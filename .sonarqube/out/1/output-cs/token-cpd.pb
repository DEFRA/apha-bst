ƒ0
VD:\a\apha-bst\apha-bst\src\Apha.BST\Apha.BST.DataAccess\Repositories\UserRepository.cs
	namespace 	
Apha
 
. 
BST 
. 

DataAccess 
. 
Repositories *
{ 
public 

class 
UserRepository 
:  !
RepositoryBase" 0
<0 1
User1 5
>5 6
,6 7
IUserRepository8 G
{ 
public 
UserRepository 
( 

BstContext (
context) 0
)0 1
:2 3
base4 8
(8 9
context9 @
)@ A
{B C
}D E
public 
async 
Task 
< 
bool 
> 
UserExistsAsync  /
(/ 0
string0 6
userId7 =
)= >
{ 	
return 
await 
GetDbSetFor $
<$ %
User% )
>) *
(* +
)+ ,
., -
AnyAsync- 5
(5 6
u6 7
=>8 :
u; <
.< =
UserId= C
==D F
userIdG M
)M N
;N O
} 	
public 
async 
Task 
AddUserAsync &
(& '
User' +
user, 0
)0 1
{ 	
var 

parameters 
= 
new  
[  !
]! "
{ 
new	 
SqlParameter 
( 
$str #
,# $
user% )
.) *
UserId* 0
)0 1
,1 2
new	 
SqlParameter 
( 
$str %
,% &
user' +
.+ ,
UserName, 4
??5 7
(8 9
object9 ?
)? @
DBNull@ F
.F G
ValueG L
)L M
,M N
new	 
SqlParameter 
( 
$str %
,% &
user' +
.+ ,
UserLoc, 3
??4 6
(7 8
object8 >
)> ?
DBNull? E
.E F
ValueF K
)K L
,L M
new	 
SqlParameter 
( 
$str &
,& '
user( ,
., -
	UserLevel- 6
??7 9
(: ;
object; A
)A B
DBNullB H
.H I
ValueI N
)N O
} 
; 
await   
ExecuteSqlAsync   !
(  ! "
$str!! L
,!!L M

parameters!!N X
)!!X Y
;!!Y Z
}"" 	
public$$ 
async$$ 
Task$$ 
<$$ 
List$$ 
<$$ 

VlaLocView$$ )
>$$) *
>$$* +
GetLocationsAsync$$, =
($$= >
)$$> ?
{%% 	
return&& 
await&& !
GetQueryableResultFor&& .
<&&. /

VlaLocView&&/ 9
>&&9 :
(&&: ;
$str&&; W
)&&W X
.'' 
ToListAsync'' 
('' 
)'' 
;'' 
}(( 	
public** 
async** 
Task** 
<** 
List** 
<** 
UserView** '
>**' (
>**( )
GetUsersAsync*** 7
(**7 8
string**8 >
userId**? E
)**E F
{++ 	
var,, 
param,, 
=,, 
new,, 
SqlParameter,, (
(,,( )
$str,,) 0
,,,0 1
userId,,2 8
??,,9 ;
$str,,< G
),,G H
;,,H I
return-- 
await-- !
GetQueryableResultFor-- .
<--. /
UserView--/ 7
>--7 8
(--8 9
$str--9 W
,--W X
param--Y ^
)--^ _
... 
ToListAsync.. 
(.. 
).. 
;.. 
}// 	
public22 
async22 
Task22 
DeleteUserAsync22 )
(22) *
string22* 0
userId221 7
)227 8
{33 	
var44 
param44 
=44 
new44 
SqlParameter44 (
(44( )
$str44) 2
,442 3
userId444 :
)44: ;
;44; <
await55 
ExecuteSqlAsync55 !
(55! "
$str55" ?
,55? @
param55A F
)55F G
;55G H
}66 	
public88 
async88 
Task88 
UpdateUserAsync88 )
(88) *
User88* .
user88/ 3
)883 4
{99 	
var:: 

parameters:: 
=:: 
new::  
[::  !
]::! "
{;; 
new<< 
SqlParameter<< 
(<< 
$str<< "
,<<" #
user<<$ (
.<<( )
UserId<<) /
)<</ 0
,<<0 1
new== 
SqlParameter== 
(== 
$str== $
,==$ %
user==& *
.==* +
UserName==+ 3
??==4 6
(==7 8
object==8 >
)==> ?
DBNull==? E
.==E F
Value==F K
)==K L
,==L M
new>> 
SqlParameter>> 
(>> 
$str>> $
,>>$ %
user>>& *
.>>* +
UserLoc>>+ 2
??>>3 5
(>>6 7
object>>7 =
)>>= >
DBNull>>> D
.>>D E
Value>>E J
)>>J K
,>>K L
new?? 
SqlParameter?? 
(?? 
$str?? %
,??% &
user??' +
.??+ ,
	UserLevel??, 5
????6 8
(??9 :
object??: @
)??@ A
DBNull??A G
.??G H
Value??H M
)??M N
,??N O
}@@ 
;@@ 
awaitBB 
ExecuteSqlAsyncBB !
(BB! "
$strBB" a
,BBa b

parametersBBc m
)BBm n
;BBn o
}CC 	
}FF 
}GG õl
ZD:\a\apha-bst\apha-bst\src\Apha.BST\Apha.BST.DataAccess\Repositories\TrainingRepository.cs
	namespace 	
Apha
 
. 
BST 
. 

DataAccess 
. 
Repositories *
{ 
public 

class 
TrainingRepository #
:# $
RepositoryBase% 3
<3 4
Training4 <
>< =
,= >
ITrainingRepository? R
{ 
public 
const 
string 
Success #
=$ %
$str& /
;/ 0
public 
const 
string 
Fail  
=! "
$str# )
;) *
public 
const 
string 
Exists "
=# $
$str% -
;- .
public 
const 
string 
TrainingIdParameter /
=0 1
$str2 >
;> ?
public 
TrainingRepository !
(! "

BstContext" ,
context- 4
)4 5
:5 6
base6 :
(: ;
context; B
)B C
{D E
}F G
public 
async 
Task 
< 
List 
< 
TraineeTrainer -
>- .
>. /
GetAllTraineesAsync0 C
(C D
)D E
{ 	
return 
await !
GetQueryableResultFor .
<. /
TraineeTrainer/ =
>= >
(> ?
$str? `
)` a
. 
ToListAsync 
( 
) 
; 
} 	
public 
async 
Task 
< 
IEnumerable %
<% &
TrainerTraining& 5
>5 6
>6 7%
GetTrainingByTraineeAsync8 Q
(Q R
stringR X
	traineeIdY b
)b c
{ 	
var   
param   
=   
new   
SqlParameter   (
(  ( )
TrainingIdParameter  ) <
,  < =
	traineeId  > G
)  G H
;  H I
return"" 
await"" !
GetQueryableResultFor"" .
<"". /
TrainerTraining""/ >
>""> ?
(""? @
$str""@ d
,""d e
param""f k
)""k l
.## 
ToListAsync## 
(## 
)## 
;## 
}$$ 	
public&& 
async&& 
Task&& 
<&& 
IEnumerable&& %
<&&% &
TrainerTraining&&& 5
>&&5 6
>&&6 7 
GetAllTrainingsAsync&&8 L
(&&L M
)&&M N
{'' 	
var(( 
param(( 
=(( 
new(( 
SqlParameter(( (
(((( )
TrainingIdParameter(() <
,((< =
DBNull((> D
.((D E
Value((E J
)((J K
;((K L
return)) 
await)) !
GetQueryableResultFor)) .
<)). /
TrainerTraining))/ >
>))> ?
())? @
$str))@ d
,))d e
param))f k
)))k l
.** 
ToListAsync** 
(** 
)** 
;** 
}++ 	
public.. 
async.. 
Task.. 
<.. 
IEnumerable.. %
<..% &
TrainerHistory..& 4
>..4 5
>..5 6"
GetTrainerHistoryAsync..7 M
(..M N
int..N Q
personId..R Z
,..Z [
string..\ b

animalType..c m
)..m n
{// 	
var00 
personIdParam00 
=00 
new00  #
SqlParameter00$ 0
(000 1
$str001 <
,00< =
personId00> F
)00F G
;00G H
var11 
animalTypeParam11 
=11  !
new11" %
SqlParameter11& 2
(112 3
$str113 @
,11@ A

animalType11B L
)11L M
;11M N
return33 
await33 !
GetQueryableResultFor33 .
<33. /
TrainerHistory33/ =
>33= >
(33> ?
$str33? y
,33y z
personIdParam	33{ à
,
33à â
animalTypeParam
33ä ô
)
33ô ö
.44 
ToListAsync44 
(44 
)44 
;44 
}55 	
public88 
async88 
Task88 
<88 
IEnumerable88 %
<88% &
TrainerTrained88& 4
>884 5
>885 6"
GetTrainerTrainedAsync887 M
(88M N
int88N Q
	trainerId88R [
)88[ \
{99 	
var:: 
param:: 
=:: 
new:: 
SqlParameter:: (
(::( )
$str::) 3
,::3 4
	trainerId::5 >
)::> ?
;::? @
return;; 
await;; !
GetQueryableResultFor;; .
<;;. /
TrainerTrained;;/ =
>;;= >
(;;> ?
$str;;? e
,;;e f
param;;g l
);;l m
.<< 
ToListAsync<< 
(<< 
)<< 
;<< 
}== 	
public?? 
async?? 
Task?? 
<?? 
Training?? "
???" #
>??# $"
GetTrainingByKeysAsync??% ;
(??; <
int??< ?
	traineeId??@ I
,??I J
int??K N
	trainerId??O X
,??X Y
string??Z `
species??a h
,??h i
DateTime??j r
dateTrained??s ~
,??~ 
string
??Ä Ü
trainingType
??á ì
)
??ì î
{@@ 	
DateTimeAA 
fromDateAA 
=AA 
dateTrainedAA  +
.AA+ ,
DateAA, 0
;AA0 1
DateTimeBB 
toDateBB 
=BB 
fromDateBB &
.BB& '
AddDaysBB' .
(BB. /
$numBB/ 0
)BB0 1
;BB1 2
returnDD 
awaitDD 
GetDbSetForDD $
<DD$ %
TrainingDD% -
>DD- .
(DD. /
)DD/ 0
.DD0 1
FirstOrDefaultAsyncDD1 D
(DDD E
tDDE F
=>DDG I
tEE 
.EE 
PersonIdEE 
==EE 
	traineeIdEE '
&&EE( *
tFF 
.FF 
	TrainerIdFF 
==FF 
	trainerIdFF (
&&FF) +
tGG 
.GG 
TrainingAnimalGG  
==GG! #
speciesGG$ +
&&GG, .
tHH 
.HH 
TrainingDateTimeHH "
>=HH# %
fromDateHH& .
&&HH/ 1
tII 
.II 
TrainingDateTimeII "
<II# $
toDateII% +
&&II, .
tJJ 
.JJ 
TrainingTypeJJ 
==JJ !
trainingTypeJJ" .
)JJ. /
;JJ/ 0
}KK 	
publicMM 
asyncMM 
TaskMM 
<MM 
stringMM  
>MM  !
UpdateTrainingAsyncMM" 5
(MM5 6
EditTrainingMM6 B
editTrainingMMC O
)MMO P
{NN 	
varOO 

parametersOO 
=OO 
newOO  
[OO  !
]OO! "
{PP 
newQQ 
SqlParameterQQ 
(QQ 
TrainingIdParameterQQ 0
,QQ0 1
editTrainingQQ2 >
.QQ> ?
TraineeIdOldQQ? K
)QQK L
,QQL M
newRR 
SqlParameterRR 
(RR 
$strRR +
,RR+ ,
editTrainingRR- 9
.RR9 :
TrainingDateTimeRR: J
)RRJ K
,RRK L
newSS 
SqlParameterSS 
(SS 
$strSS .
,SS. /
editTrainingSS0 <
.SS< =
TrainingDateTimeOldSS= P
)SSP Q
,SSQ R
newTT 
SqlParameterTT 
(TT 
$strTT '
,TT' (
editTrainingTT) 5
.TT5 6
TrainingAnimalTT6 D
)TTD E
,TTE F
newUU 
SqlParameterUU 
(UU 
$strUU *
,UU* +
editTrainingUU, 8
.UU8 9
TrainingAnimalOldUU9 J
)UUJ K
,UUK L
newVV 
SqlParameterVV 
(VV 
$strVV '
,VV' (
editTrainingVV* 6
.VV6 7
	TrainerIdVV7 @
)VV@ A
,VVA B
newWW 
SqlParameterWW 
(WW 
$strWW *
,WW* +
editTrainingWW, 8
.WW8 9
TrainerIdOldWW9 E
)WWE F
,WWF G
newXX 
SqlParameterXX 
(XX 
$strXX ,
,XX, -
editTrainingXX. :
.XX: ;
TrainingTypeXX; G
)XXG H
}YY 
;YY 
tryZZ 
{[[ 
await\\ 
ExecuteSqlAsync\\ %
(\\% &
$str	]] î
,
]]î ï

parameters^^ 
)^^ 
;^^  
return__ 
Success__ 
;__ 
}aa 
catchbb 
{cc 
returnee 
Failee 
;ee 
}ff 
}hh 	
publickk 
asynckk 
Taskkk 
<kk 
stringkk  
>kk  !
AddTrainingAsynckk" 2
(kk2 3
Trainingkk3 ;
trainingkk< D
)kkD E
{ll 	
varmm 

parametersmm 
=mm 
newmm  
[mm  !
]mm! "
{nn 
newoo 
SqlParameteroo 
(oo 
TrainingIdParameteroo 0
,oo0 1
trainingoo2 :
.oo: ;
PersonIdoo; C
)ooC D
,ooD E
newpp 
SqlParameterpp 
(pp 
$strpp )
,pp) *
trainingpp+ 3
.pp3 4
	TrainerIdpp4 =
)pp= >
,pp> ?
newqq 
SqlParameterqq 
(qq 
$strqq '
,qq' (
trainingqq) 1
.qq1 2
TrainingAnimalqq2 @
)qq@ A
,qqA B
newrr 
SqlParameterrr 
(rr 
$strrr ,
,rr, -
trainingrr. 6
.rr6 7
TrainingTyperr7 C
)rrC D
,rrD E
newss 
SqlParameterss 
(ss 
$strss +
,ss+ ,
trainingss- 5
.ss5 6
TrainingDateTimess6 F
)ssF G
,ssG H
newtt 
SqlParametertt 
{uu 
ParameterNamevv 
=vv 
$strvv  -
,vv- .
	SqlDbTypeww 
=ww 
	SqlDbTypeww %
.ww% &
TinyIntww& -
,ww- .
	Directionxx 
=xx 
ParameterDirectionxx .
.xx. /
Outputxx/ 5
,xx5 6
Valueyy 
=yy 
$numyy 
}zz 
}{{ 
;{{ 
await|| 
ExecuteSqlAsync|| %
(||% &
$str}} x
,}}x y

parameters~~ 
)~~ 
;~~  
var 

returnCode 
= 
( 
byte "
)" #

parameters# -
[- .
$num. /
]/ 0
.0 1
Value1 6
;6 7
if
ÅÅ 
(
ÅÅ 

returnCode
ÅÅ 
==
ÅÅ 
$num
ÅÅ 
)
ÅÅ  
return
ÇÇ 
Exists
ÇÇ 
;
ÇÇ 
return
ÑÑ 
Success
ÑÑ 
;
ÑÑ 
}
ÖÖ 	
public
áá 
async
áá 
Task
áá 
<
áá 
Persons
áá !
?
áá! "
>
áá" # 
GetPersonByIdAsync
áá$ 6
(
áá6 7
int
áá7 :
personId
áá; C
)
ááC D
{
àà 	
return
ââ 
await
ââ 
GetDbSetFor
ââ $
<
ââ$ %
Persons
ââ% ,
>
ââ, -
(
ââ- .
)
ââ. /
.
ââ/ 0!
FirstOrDefaultAsync
ââ0 C
(
ââC D
p
ââD E
=>
ââF H
p
ââI J
.
ââJ K
PersonId
ââK S
==
ââT V
personId
ââW _
)
ââ_ `
;
ââ` a
}
ää 	
public
åå 
async
åå 
Task
åå 
<
åå 
string
åå  
>
åå  !!
DeleteTrainingAsync
åå" 5
(
åå5 6
int
åå6 9
	traineeId
åå: C
,
ååC D
string
ååE K
species
ååL S
,
ååS T
DateTime
ååU ]
dateTrained
åå^ i
)
ååi j
{
çç 	
var
éé 

parameters
éé 
=
éé 
new
éé  
[
éé  !
]
éé! "
{
èè 
new
êê 
SqlParameter
êê !
(
êê! "!
TrainingIdParameter
êê" 5
,
êê5 6
	traineeId
êê7 @
)
êê@ A
,
êêA B
new
ëë 
SqlParameter
ëë !
(
ëë! "
$str
ëë" ,
,
ëë, -
species
ëë. 5
)
ëë5 6
,
ëë6 7
new
íí 
SqlParameter
íí !
(
íí! "
$str
íí" 0
,
íí0 1
dateTrained
íí2 =
)
íí= >
}
ìì 
;
ìì 
try
ïï 
{
ññ 
await
óó 
ExecuteSqlAsync
óó %
(
óó% &
$str
óó& b
,
óób c

parameters
óód n
)
óón o
;
óóo p
return
òò 
Success
òò 
;
òò 
}
ôô 
catch
öö 
{
õõ 
return
ùù 
Fail
ùù 
;
ùù 
}
ûû 
}
üü 	
}
¢¢ 
}££ îq
VD:\a\apha-bst\apha-bst\src\Apha.BST\Apha.BST.DataAccess\Repositories\SiteRepository.cs
	namespace 	
Apha
 
. 
BST 
. 

DataAccess 
. 
Repositories *
{ 
public 

class 
SiteRepository 
:  !
RepositoryBase" 0
<0 1
Site1 5
>5 6
,6 7
ISiteRepository8 G
{ 
private 
readonly 
IAuditLogRepository ,
_auditLogRepository- @
;@ A
public 
const 
string 
Success #
=$ %
$str& /
;/ 0
public 
const 
string 
Exists "
=# $
$str% -
;- .
public 
const 
string 
PlantNoParameter ,
=- .
$str/ 9
;9 :
public 
SiteRepository 
( 

BstContext (
context) 0
,0 1
IAuditLogRepository2 E
auditLogRepositoryF X
)X Y
:Z [
base\ `
(` a
contexta h
)h i
{ 	
_auditLogRepository 
=  !
auditLogRepository" 4
;4 5
} 	
public 
async 
Task 
< 
IEnumerable %
<% &
Site& *
>* +
>+ ,
GetAllSitesAsync- =
(= >
string> D
plantNoE L
)L M
{ 	
var 
param 
= 
new 
SqlParameter (
(( )
PlantNoParameter) 9
,9 :
plantNo; B
)B C
;C D
return 
await 
GetQueryableResult +
(+ ,
$str, K
,K L
paramM R
)R S
.   
ToListAsync   
(   
)   
;   
}!! 	
public"" 
async"" 
Task"" 
<"" 
List"" 
<"" 
SiteTrainee"" *
>""* +
>""+ , 
GetSiteTraineesAsync""- A
(""A B
string""B H
plantNo""I P
)""P Q
{## 	
var$$ 
param$$ 
=$$ 
new$$ 
SqlParameter$$ (
($$( )
PlantNoParameter$$) 9
,$$9 :
plantNo$$; B
)$$B C
;$$C D
return%% 
await%% !
GetQueryableResultFor%% .
<%%. /
SiteTrainee%%/ :
>%%: ;
(%%; <
$str%%< _
,%%_ `
param%%a f
)%%f g
.&& 
ToListAsync&& 
(&& 
)&& 
;&& 
}'' 	
public)) 
async)) 
Task)) 
<)) 
string))  
>))  !
AddSiteAsync))" .
()). /
Site))/ 3
site))4 8
,))8 9
string)): @
userName))A I
)))I J
{** 	
var++ 

parameters++ 
=++ 
new++  
[++  !
]++! "
{,, 
new-- 
SqlParameter-- 
(-- 
PlantNoParameter-- )
,--) *
site--+ /
.--/ 0
PlantNo--0 7
)--7 8
,--8 9
new.. 
SqlParameter.. 
(.. 
$str..  
,..  !
site.." &
...& '
Name..' +
)..+ ,
,.., -
new// 
SqlParameter// 
(// 
$str//  
,//  !
site//" &
.//& '
AddressLine1//' 3
??//4 6
(//7 8
object//8 >
)//> ?
DBNull//? E
.//E F
Value//F K
)//K L
,//L M
new00 
SqlParameter00 
(00 
$str00  
,00  !
site00" &
.00& '
AddressLine200' 3
??004 6
(007 8
object008 >
)00> ?
DBNull00? E
.00E F
Value00F K
)00K L
,00L M
new11 
SqlParameter11 
(11 
$str11 #
,11# $
site11% )
.11) *
AddressTown11* 5
??116 8
(119 :
object11: @
)11@ A
DBNull11A G
.11G H
Value11H M
)11M N
,11N O
new22 
SqlParameter22 
(22 
$str22 %
,22% &
site22' +
.22+ ,
AddressCounty22, 9
??22: <
(22= >
object22> D
)22D E
DBNull22E K
.22K L
Value22L Q
)22Q R
,22R S
new33 
SqlParameter33 
(33 
$str33 $
,33$ %
site33& *
.33* +
AddressPostCode33+ :
??33; =
(33> ?
object33? E
)33E F
DBNull33F L
.33L M
Value33M R
)33R S
,33S T
new44 
SqlParameter44 
(44 
$str44 "
,44" #
site44$ (
.44( )
	Telephone44) 2
??443 5
(446 7
object447 =
)44= >
DBNull44> D
.44D E
Value44E J
)44J K
,44K L
new55 
SqlParameter55 
(55 
$str55 "
,55" #
site55$ (
.55( )
Fax55) ,
??55- /
(550 1
object551 7
)557 8
DBNull558 >
.55> ?
Value55? D
)55D E
,55E F
new66 
SqlParameter66 
(66 
$str66 $
,66$ %
site66& *
.66* +
Ahvla66+ 0
)660 1
,661 2
new77 
SqlParameter77 
{88 	
ParameterName99 
=99 
$str99 )
,99) *
	SqlDbType:: 
=:: 
	SqlDbType:: !
.::! "
TinyInt::" )
,::) *
	Direction;; 
=;; 
ParameterDirection;; *
.;;* +
InputOutput;;+ 6
,;;6 7
Value<< 
=<< 
$num<< 
}== 	
}>> 
;>> 
string?? 
??? 
error?? 
=?? 
null??  
;??  !
try@@ 
{AA 
awaitBB 
ExecuteSqlAsyncBB %
(BB% &
$str	BB& ¶
,
BB¶ ß

parameters
BB® ≤
)
BB≤ ≥
;
BB≥ ¥
}CC 
catchDD 
(DD 
	ExceptionDD 
exDD 
)DD  
{EE 
errorFF 
=FF 
exFF 
.FF 
ToStringFF #
(FF# $
)FF$ %
;FF% &
throwGG 
;GG 
}HH 
finallyII 
{JJ 
ifLL 
(LL 
!LL 
stringLL 
.LL 
EqualsLL "
(LL" #
$strLL# 1
,LL1 2
$strLL3 H
,LLH I
StringComparisonLLJ Z
.LLZ [
OrdinalIgnoreCaseLL[ l
)LLl m
&&LLn p
!MM 
stringMM 
.MM 
EqualsMM "
(MM" #
$strMM# 1
,MM1 2
$strMM3 D
,MMD E
StringComparisonMMF V
.MMV W
OrdinalIgnoreCaseMMW h
)MMh i
)MMi j
{NN 
awaitOO 
_auditLogRepositoryOO -
.OO- .
AddAuditLogAsyncOO. >
(OO> ?
$strPP &
,PP& '

parametersQQ "
,QQ" #
$strRR 
,RR  
userNameSS  
,SS  !
errorTT 
)UU 
;UU 
}VV 
}WW 
varXX 

returnCodeXX 
=XX 
(XX 
byteXX "
)XX" #

parametersXX# -
[XX- .
$numXX. 0
]XX0 1
.XX1 2
ValueXX2 7
;XX7 8
ifYY 
(YY 

returnCodeYY 
==YY 
$numYY 
)YY  
returnZZ 
ExistsZZ 
;ZZ 
return\\ 
Success\\ 
;\\ 
}]] 	
public__ 
async__ 
Task__ 
<__ 
string__  
?__  !
>__! ""
GetPersonNameByIdAsync__# 9
(__9 :
int__: =
personId__> F
)__F G
{`` 	
returnaa 
awaitaa 
GetDbSetForaa $
<aa$ %
Personsaa% ,
>aa, -
(aa- .
)aa. /
.bb! "
Wherebb" '
(bb' (
pbb( )
=>bb* ,
pbb- .
.bb. /
PersonIdbb/ 7
==bb8 :
personIdbb; C
)bbC D
.cc! "
Selectcc" (
(cc( )
pcc) *
=>cc+ -
pcc. /
.cc/ 0
Personcc0 6
)cc6 7
.dd! "
FirstOrDefaultAsyncdd" 5
(dd5 6
)dd6 7
;dd7 8
}ee 	
publichh 
asynchh 
Taskhh 
<hh 
boolhh 
>hh 
DeleteTraineeAsynchh  2
(hh2 3
inthh3 6
personIdhh7 ?
)hh? @
{ii 	
varjj 

parametersjj 
=jj 
newjj  
[jj  !
]jj! "
{kk 
newll 
SqlParameterll  
(ll  !
$strll! ,
,ll, -
personIdll. 6
)ll6 7
,ll7 8
newmm 
SqlParametermm  
{nn 
ParameterNameoo !
=oo" #
$stroo$ 5
,oo5 6
	SqlDbTypepp 
=pp 
	SqlDbTypepp  )
.pp) *
TinyIntpp* 1
,pp1 2
	Directionqq 
=qq 
ParameterDirectionqq  2
.qq2 3
Outputqq3 9
,qq9 :
Valuerr 
=rr 
$numrr 
}ss 
}tt 
;tt 
awaitww 
ExecuteSqlAsyncww !
(ww! "
$strww" \
,ww\ ]

parametersww^ h
)wwh i
;wwi j
varyy 
personTrainingyy 
=yy  
(yy! "
byteyy" &
)yy& '

parametersyy' 1
[yy1 2
$numyy2 3
]yy3 4
.yy4 5
Valueyy5 :
;yy: ;
return|| 
personTraining|| !
==||" $
$num||% &
;||& '
} 	
public
ÄÄ 
async
ÄÄ 
Task
ÄÄ 
<
ÄÄ 
string
ÄÄ  
>
ÄÄ  !
UpdateSiteAsync
ÄÄ" 1
(
ÄÄ1 2
	SiteInput
ÄÄ2 ;
	siteInput
ÄÄ< E
)
ÄÄE F
{
ÅÅ 	
var
ÇÇ 

parameters
ÇÇ 
=
ÇÇ 
new
ÇÇ  
[
ÇÇ  !
]
ÇÇ! "
{
ÉÉ 
new
ÑÑ 
SqlParameter
ÑÑ  
(
ÑÑ  !
$str
ÑÑ! (
,
ÑÑ( )
	siteInput
ÑÑ* 3
.
ÑÑ3 4
Name
ÑÑ4 8
)
ÑÑ8 9
,
ÑÑ9 :
new
ÖÖ 
SqlParameter
ÖÖ  
(
ÖÖ  !
PlantNoParameter
ÖÖ! 1
,
ÖÖ1 2
	siteInput
ÖÖ3 <
.
ÖÖ< =
PlantNo
ÖÖ= D
)
ÖÖD E
,
ÖÖE F
new
ÜÜ 
SqlParameter
ÜÜ  
(
ÜÜ  !
$str
ÜÜ! (
,
ÜÜ( )
(
ÜÜ* +
object
ÜÜ+ 1
?
ÜÜ1 2
)
ÜÜ2 3
	siteInput
ÜÜ3 <
.
ÜÜ< =
AddressLine1
ÜÜ= I
??
ÜÜJ L
DBNull
ÜÜM S
.
ÜÜS T
Value
ÜÜT Y
)
ÜÜY Z
,
ÜÜZ [
new
áá 
SqlParameter
áá  
(
áá  !
$str
áá! (
,
áá( )
(
áá* +
object
áá+ 1
?
áá1 2
)
áá2 3
	siteInput
áá3 <
.
áá< =
AddressLine2
áá= I
??
ááJ L
DBNull
ááM S
.
ááS T
Value
ááT Y
)
ááY Z
,
ááZ [
new
àà 
SqlParameter
àà  
(
àà  !
$str
àà! +
,
àà+ ,
(
àà- .
object
àà. 4
?
àà4 5
)
àà5 6
	siteInput
àà6 ?
.
àà? @
AddressTown
àà@ K
??
ààL N
DBNull
ààO U
.
ààU V
Value
ààV [
)
àà[ \
,
àà\ ]
new
ââ 
SqlParameter
ââ  
(
ââ  !
$str
ââ! -
,
ââ- .
(
ââ/ 0
object
ââ0 6
?
ââ6 7
)
ââ7 8
	siteInput
ââ8 A
.
ââA B
AddressCounty
ââB O
??
ââP R
DBNull
ââS Y
.
ââY Z
Value
ââZ _
)
ââ_ `
,
ââ` a
new
ää 
SqlParameter
ää  
(
ää  !
$str
ää! ,
,
ää, -
(
ää. /
object
ää/ 5
?
ää5 6
)
ää6 7
	siteInput
ää7 @
.
ää@ A
AddressPostCode
ääA P
??
ääQ S
DBNull
ääT Z
.
ääZ [
Value
ää[ `
)
ää` a
,
ääa b
new
ãã 
SqlParameter
ãã  
(
ãã  !
$str
ãã! *
,
ãã* +
(
ãã, -
object
ãã- 3
?
ãã3 4
)
ãã4 5
	siteInput
ãã5 >
.
ãã> ?
	Telephone
ãã? H
??
ããI K
DBNull
ããL R
.
ããR S
Value
ããS X
)
ããX Y
,
ããY Z
new
åå 
SqlParameter
åå  
(
åå  !
$str
åå! *
,
åå* +
(
åå, -
object
åå- 3
?
åå3 4
)
åå4 5
	siteInput
åå5 >
.
åå> ?
Fax
åå? B
??
ååC E
DBNull
ååF L
.
ååL M
Value
ååM R
)
ååR S
,
ååS T
new
çç 
SqlParameter
çç  
(
çç  !
$str
çç! ,
,
çç, -
	siteInput
çç. 7
.
çç7 8
IsAhvla
çç8 ?
?
çç@ A
$num
ççB C
:
ççD E
$num
ççF G
)
ççG H
}
éé 
;
éé 
await
ëë 
ExecuteSqlAsync
ëë !
(
ëë! "
$str
íì t
,
ììt u

parameters
îî 
)
îî 
;
îî 
return
ïï 
$str
ïï 
;
ïï 
}
óó 	
}
òò 
}ôô à
XD:\a\apha-bst\apha-bst\src\Apha.BST\Apha.BST.DataAccess\Repositories\ReportRepository.cs
	namespace 	
Apha
 
. 
BST 
. 

DataAccess 
. 
Repositories *
{ 
public 

class 
ReportRepository !
:" #
RepositoryBase$ 2
<2 3
object3 9
>9 :
,: ;
IReportRepository< M
{ 
public 
ReportRepository 
(  

BstContext  *
context+ 2
)2 3
:4 5
base6 :
(: ;
context; B
)B C
{D E
}F G
public 
async 
Task 
< 
List 
< 

AphaReport )
>) *
>* +
GetAphaReportsAsync, ?
(? @
)@ A
{ 	
return 
await !
GetQueryableResultFor .
<. /

AphaReport/ 9
>9 :
(: ;
$str; P
)P Q
. 
ToListAsync 
( 
) 
; 
} 	
public 
async 
Task 
< 
List 
< 
PeopleReport +
>+ ,
>, -!
GetPeopleReportsAsync. C
(C D
)D E
{ 	
return 
await !
GetQueryableResultFor .
<. /
PeopleReport/ ;
>; <
(< =
$str= T
)T U
. 
ToListAsync 
( 
) 
; 
} 	
public 
async 
Task 
< 
List 
< 

SiteReport )
>) *
>* +
GetSiteReportsAsync, ?
(? @
)@ A
{ 	
return 
await !
GetQueryableResultFor .
<. /

SiteReport/ 9
>9 :
(: ;
$str; P
)P Q
.   
ToListAsync   
(   
)   
;   
}!! 	
public## 
async## 
Task## 
<## 
List## 
<## 
TrainerReport## ,
>##, -
>##- ."
GetTrainerReportsAsync##/ E
(##E F
)##F G
{$$ 	
return%% 
await%% !
GetQueryableResultFor%% .
<%%. /
TrainerReport%%/ <
>%%< =
(%%= >
$str%%> V
)%%V W
.&& 
ToListAsync&& 
(&& 
)&& 
;&& 
}'' 	
public)) 
async)) 
Task)) 
<)) 
List)) 
<)) 
TrainingReport)) -
>))- .
>)). /#
GetTrainingReportsAsync))0 G
())G H
)))H I
{** 	
return++ 
await++ !
GetQueryableResultFor++ .
<++. /
TrainingReport++/ =
>++= >
(++> ?
$str++? X
)++X Y
.,, 
ToListAsync,, 
(,, 
),, 
;,, 
}-- 	
}.. 
}// …
VD:\a\apha-bst\apha-bst\src\Apha.BST\Apha.BST.DataAccess\Repositories\RepositoryBase.cs
	namespace		 	
Apha		
 
.		 
BST		 
.		 

DataAccess		 
.		 
Repositories		 *
{

 
public 

class 
RepositoryBase 
<  
TEntity  '
>' (
where) .
TEntity/ 6
:7 8
class9 >
{ 
	protected 
readonly 

BstContext %
_context& .
;. /
public 
RepositoryBase 
( 

BstContext (
context) 0
)0 1
{ 	
_context 
= 
context 
; 
} 	
	protected 
virtual 

IQueryable $
<$ %
TEntity% ,
>, -
GetQueryableResult. @
(@ A
stringA G
sqlH K
,K L
paramsM S
objectT Z
[Z [
][ \

parameters] g
)g h
{ 	
return 
_context 
. 
Set 
<  
TEntity  '
>' (
(( )
)) *
.* +

FromSqlRaw+ 5
(5 6
sql6 9
,9 :

parameters; E
)E F
;F G
} 	
	protected 
virtual 

IQueryable $
<$ %
T% &
>& '!
GetQueryableResultFor( =
<= >
T> ?
>? @
(@ A
stringA G
sqlH K
,K L
paramsM S
objectT Z
[Z [
][ \

parameters] g
)g h
wherei n
To p
:q r
classs x
{ 	
return 
_context 
. 
Set 
<  
T  !
>! "
(" #
)# $
.$ %

FromSqlRaw% /
(/ 0
sql0 3
,3 4

parameters5 ?
)? @
;@ A
} 	
	protected 
virtual 

IQueryable $
<$ %
T% &
>& '
GetDbSetFor( 3
<3 4
T4 5
>5 6
(6 7
)7 8
where9 >
T? @
:A B
classC H
{ 	
return   
_context   
.   
Set   
<    
T    !
>  ! "
(  " #
)  # $
;  $ %
}!! 	
	protected$$ 
virtual$$ 
Task$$ 
<$$ 
int$$ "
>$$" #
ExecuteSqlAsync$$$ 3
($$3 4
string$$4 :
sql$$; >
,$$> ?
params$$@ F
object$$G M
[$$M N
]$$N O

parameters$$P Z
)$$Z [
{%% 	
return&& 
_context&& 
.&& 
Database&& $
.&&$ %
ExecuteSqlRawAsync&&% 7
(&&7 8
sql&&8 ;
,&&; <

parameters&&= G
)&&G H
;&&H I
}'' 	
}(( 
})) ûM
YD:\a\apha-bst\apha-bst\src\Apha.BST\Apha.BST.DataAccess\Repositories\PersonsRepository.cs
	namespace 	
Apha
 
. 
BST 
. 

DataAccess 
. 
Repositories *
{ 
public 

class 
PersonsRepository "
:# $
RepositoryBase% 3
<3 4
Persons4 ;
>; <
,< =
IPersonsRepository> P
{ 
private 
readonly 
IAuditLogRepository ,
_auditLogRepository- @
;@ A
public 
const 
string 
Success #
=$ %
$str& /
;/ 0
public 
PersonsRepository  
(  !

BstContext! +
context, 3
,3 4
IAuditLogRepository5 H
auditLogRepositoryI [
)[ \
:] ^
base_ c
(c d
contextd k
)k l
{ 	
_auditLogRepository 
=  !
auditLogRepository" 4
;4 5
} 	
public 
async 
Task 
< 
string  
?  !
>! "
GetSiteByIdAsync# 3
(3 4
int4 7
personId8 @
)@ A
{ 	
return 
await 
GetDbSetFor $
<$ %
Persons% ,
>, -
(- .
). /
.  !
Where! &
(& '
p' (
=>) +
p, -
.- .
PersonId. 6
==7 9
personId: B
)B C
.  !
Select! '
(' (
p( )
=>* ,
p- .
.. /

LocationId/ 9
)9 :
.  !
FirstOrDefaultAsync! 4
(4 5
)5 6
;6 7
} 	
public!! 
async!! 
Task!! 
<!! 
string!!  
?!!  !
>!!! ""
GetPersonNameByIdAsync!!# 9
(!!9 :
int!!: =
personId!!> F
)!!F G
{"" 	
return## 
await## 
GetDbSetFor## $
<##$ %
Persons##% ,
>##, -
(##- .
)##. /
.$$! "
Where$$" '
($$' (
p$$( )
=>$$* ,
p$$- .
.$$. /
PersonId$$/ 7
==$$8 :
personId$$; C
)$$C D
.%%! "
Select%%" (
(%%( )
p%%) *
=>%%+ -
p%%. /
.%%/ 0
Person%%0 6
)%%6 7
.&&! "
FirstOrDefaultAsync&&" 5
(&&5 6
)&&6 7
;&&7 8
}'' 	
public)) 
async)) 
Task)) 
<)) 
IEnumerable)) %
<))% &
PersonLookup))& 2
>))2 3
>))3 4)
GetAllPersonsForDropdownAsync))5 R
())R S
)))S T
{** 	
return++ 
await++ !
GetQueryableResultFor++ .
<++. /
PersonLookup++/ ;
>++; <
(++< =
$str++= ^
)++^ _
.,, 
ToListAsync,, 
(,, 
),, 
;,, 
}-- 	
public// 
async// 
Task// 
<// 
IEnumerable// %
<//% &
PersonDetail//& 2
>//2 3
>//3 4#
GetAllPersonByNameAsync//5 L
(//L M
int//M P
person//Q W
)//W X
{00 	
var11 
param11 
=11 
new11 
SqlParameter11 (
(11( )
$str11) 2
,112 3
person114 :
)11: ;
;11; <
return22 
await22 !
GetQueryableResultFor22 .
<22. /
PersonDetail22/ ;
>22; <
(22< =
$str22= ]
,22] ^
param22_ d
)22d e
.33 
ToListAsync33 "
(33" #
)33# $
;33$ %
}44 	
public66 
async66 
Task66 
<66 
IEnumerable66 %
<66% &
PersonSiteLookup66& 6
>666 7
>667 8
GetAllSitesAsync669 I
(66I J
string66J P
plantNo66Q X
)66X Y
{77 	
var88 
param88 
=88 
new88 
SqlParameter88 (
(88( )
$str88) 3
,883 4
plantNo885 <
)88< =
;88= >
return99 
await99 !
GetQueryableResultFor99 .
<99. /
PersonSiteLookup99/ ?
>99? @
(99@ A
$str99A `
,99` a
param99b g
)99g h
.:: 
ToListAsync:: 
(:: 
):: 
;:: 
};; 	
public<< 
async<< 
Task<< 
<<< 
string<<  
><<  !
AddPersonAsync<<" 0
(<<0 1
	AddPerson<<1 :
persons<<; B
,<<B C
string<<D J
userName<<K S
)<<S T
{== 	
string>> 
?>> 
error>> 
=>> 
null>>  
;>>  !
var@@ 

parameters@@ 
=@@ 
new@@  
[@@  !
]@@! "
{AA 
newBB 
SqlParameterBB  
(BB  !
$strBB! *
,BB* +
personsBB, 3
.BB3 4
NameBB4 8
)BB8 9
,BB9 :
newCC 
SqlParameterCC  
(CC  !
$strCC! .
,CC. /
personsCC0 7
.CC7 8
PlantNoCC8 ?
)CC? @
}DD 
;DD 
tryEE 
{FF 
awaitGG 
ExecuteSqlAsyncGG %
(GG% &
$strGG& P
,GGP Q

parametersGGR \
)GG\ ]
;GG] ^
}II 
catchJJ 
(JJ 
	ExceptionJJ 
exJJ 
)JJ  
{KK 
errorMM 
=MM 
exMM 
.MM 
ToStringMM #
(MM# $
)MM$ %
;MM% &
throwNN 
;NN 
}OO 
finallyPP 
{QQ 
ifSS 
(SS 
!SS 
stringSS 
.SS 
EqualsSS "
(SS" #
$strSS# 3
,SS3 4
$strSS5 J
,SSJ K
StringComparisonSSL \
.SS\ ]
OrdinalIgnoreCaseSS] n
)SSn o
&&SSp r
!TT 
stringTT 
.TT 
EqualsTT "
(TT" #
$strTT# 3
,TT3 4
$strTT5 F
,TTF G
StringComparisonTTH X
.TTX Y
OrdinalIgnoreCaseTTY j
)TTj k
)TTk l
{UU 
awaitVV 
_auditLogRepositoryVV -
.VV- .
AddAuditLogAsyncVV. >
(VV> ?
$strWW (
,WW( )

parametersXX "
,XX" #
$strYY 
,YY  
userNameZZ  
,ZZ  !
error[[ 
)\\ 
;\\ 
}]] 
}__ 
returnaa 
Successaa 
;aa 
}bb 	
publiccc 
asynccc 
Taskcc 
<cc 
boolcc 
>cc 
DeletePersonAsynccc  1
(cc1 2
intcc2 5
personIdcc6 >
)cc> ?
{dd 	
varee 

parametersee 
=ee 
newee  
[ee  !
]ee! "
{ff 
newgg 
SqlParametergg  
(gg  !
$strgg! ,
,gg, -
personIdgg. 6
)gg6 7
,gg7 8
newhh 
SqlParameterhh  
{ii 
ParameterNamejj !
=jj" #
$strjj$ 5
,jj5 6
	SqlDbTypekk 
=kk 
	SqlDbTypekk  )
.kk) *
TinyIntkk* 1
,kk1 2
	Directionll 
=ll 
ParameterDirectionll  2
.ll2 3
Outputll3 9
,ll9 :
Valuemm 
=mm 
$nummm 
}nn 
}oo 
;oo 
awaitrr 
ExecuteSqlAsyncrr %
(rr% &
$strrr& `
,rr` a

parametersrrb l
)rrl m
;rrm n
varss 
personTrainingss "
=ss# $
(ss% &
bytess& *
)ss* +

parametersss+ 5
[ss5 6
$numss6 7
]ss7 8
.ss8 9
Valuess9 >
;ss> ?
returntt 
personTrainingtt %
==tt& (
$numtt) *
;tt* +
}vv 	
publicww 
asyncww 
Taskww 
<ww 
stringww  
>ww  !
UpdatePersonAsyncww" 3
(ww3 4

EditPersonww4 >

editPersonww? I
)wwI J
{xx 	
varyy 

parametersyy 
=yy 
newyy  
[yy  !
]yy! "
{zz 
new{{ 
SqlParameter{{ 
({{ 
$str{{ )
,{{) *

editPerson{{+ 5
.{{5 6
PersonID{{6 >
){{> ?
,{{? @
new|| 
SqlParameter|| 
(|| 
$str|| '
,||' (

editPerson||) 3
.||3 4
Person||4 :
)||: ;
,||; <
new}} 
SqlParameter}} 
(}} 
$str}} %
,}}% &

editPerson}}' 1
.}}1 2
Name}}2 6
)}}6 7
}~~ 
;~~ 
await
ÄÄ 
ExecuteSqlAsync
ÄÄ %
(
ÄÄ% &
$str
ÅÅ I
,
ÅÅI J

parameters
ÇÇ 
)
ÇÇ 
;
ÇÇ  
return
ÉÉ 
Success
ÉÉ 
;
ÉÉ 
}
ÖÖ 	
}
ÜÜ 
}áá à
VD:\a\apha-bst\apha-bst\src\Apha.BST\Apha.BST.DataAccess\Repositories\NewsRepository.cs
	namespace 	
Apha
 
. 
BST 
. 

DataAccess 
. 
Repositories *
{ 
public 

class 
NewsRepository 
:  !
RepositoryBase" 0
<0 1
News1 5
>5 6
,6 7
INewsRepository7 F
{ 
public 
NewsRepository 
( 

BstContext (
context) 0
)0 1
:2 3
base4 8
(8 9
context9 @
)@ A
{B C
}D E
public 
async 
Task 
< 
IEnumerable %
<% &
News& *
>* +
>+ ,
GetLatestNewsAsync- ?
(? @
)@ A
{ 	
return 
await 
GetQueryableResult +
(+ ,
$str, =
)= >
.> ?
ToListAsync? J
(J K
)K L
;L M
} 	
public 
async 
Task 
AddNewsAsync &
(& '
News' +
news, 0
)0 1
{ 	
var 

parameters 
= 
new  
[  !
]! "
{ 
new 
SqlParameter 
( 
$str %
,% &
news' +
.+ ,
Title, 1
)1 2
,2 3
new 
SqlParameter 
( 
$str +
,+ ,
news- 1
.1 2
NewsContent2 =
??> @
(A B
objectB H
)H I
DBNullI O
.O P
ValueP U
)U V
,V W
new 
SqlParameter 
( 
$str -
,- .
news/ 3
.3 4
DatePublished4 A
)A B
,B C
new   
SqlParameter   
(   
$str   &
,  & '
news  ( ,
.  , -
Author  - 3
??  4 6
(  7 8
object  8 >
)  > ?
DBNull  ? E
.  E F
Value  F K
)  K L
}!! 	
;!!	 

await## 
ExecuteSqlAsync## !
(##! "
$str$$ P
,$$P Q

parameters$$R \
)$$\ ]
;$$] ^
}%% 	
public'' 
async'' 
Task'' 
<'' 
List'' 
<'' 
News'' #
>''# $
>''$ %
GetNewsAsync''& 2
(''2 3
)''3 4
{(( 	
return** 
await** 
GetQueryableResult** +
(**+ ,
$str**, @
)**@ A
.**A B
ToListAsync**B M
(**M N
)**N O
;**O P
}++ 	
public-- 
async-- 
Task-- 
DeleteNewsAsync-- )
(--) *
string--* 0
title--1 6
)--6 7
{.. 	
var// 
param// 
=// 
new// 
SqlParameter// (
(//( )
$str//) 1
,//1 2
	SqlDbType//3 <
.//< =
NVarChar//= E
,//E F
$num//G J
)//J K
{00 
Value11 
=11 
title11 
}22 
;22 
await33 
ExecuteSqlAsync33 !
(33! "
$str33" >
,33> ?
param33@ E
)33E F
;33F G
}44 	
}55 
}66 ˝
[D:\a\apha-bst\apha-bst\src\Apha.BST\Apha.BST.DataAccess\Repositories\DataEntryRepository.cs
	namespace 	
Apha
 
. 
BST 
. 

DataAccess 
. 
Repositories *
{ 
public 

class 
DataEntryRepository $
:% &
RepositoryBase' 5
<5 6
	DataEntry6 ?
>? @
,@ A 
IDataEntryRepositoryB V
{ 
public 
DataEntryRepository "
(" #

BstContext# -
context. 5
)5 6
:6 7
base8 <
(< =
context= D
)D E
{F G
}H I
public 
virtual 
async 
Task !
<! "
bool" &
>& '
CanEditPage( 3
(3 4
string4 :
action; A
)A B
{ 	
string 
? 
CanWrite  
=! "
await# (
GetDbSetFor) 4
<4 5
	DataEntry5 >
>> ?
(? @
)@ A
. 
Where 
( 
p 
=> 
p 
. 
ActiveViewName ,
==- /
action0 6
)6 7
. 
Select 
( 
p 
=>  
p! "
." #
CanWrite# +
)+ ,
. 
FirstOrDefaultAsync (
(( )
)) *
;* +
if 
( 
! 
string 
. 
IsNullOrEmpty )
() *
CanWrite* 2
)2 3
)3 4
{ 
if 
( 
CanWrite  
==! #
$str$ '
)' (
return 
false $
;$ %
else 
return 
true #
;# $
} 
else 
{   
return!! 
false!!  
;!!  !
}"" 
}## 	
}$$ 
}%% ñq
ZD:\a\apha-bst\apha-bst\src\Apha.BST\Apha.BST.DataAccess\Repositories\AuditLogRepository.cs
	namespace 	
Apha
 
. 
BST 
. 

DataAccess 
. 
Repositories *
{ 
public 

class 
AuditLogRepository #
:$ %
RepositoryBase& 4
<4 5
AuditLog5 =
>= >
,> ?
IAuditLogRepository@ S
{ 
public 
AuditLogRepository !
(! "

BstContext" ,
context- 4
)4 5
:6 7
base8 <
(< =
context= D
)D E
{F G
}H I
public 
virtual 
async 
Task !
AddAuditLogAsync" 2
(2 3
string3 9
	procedure: C
,C D
SqlParameterE Q
[Q R
]R S

parametersT ^
,^ _
string` f
transactionTypeg v
,v w
stringx ~
userName	 á
,
á à
string
â è
?
è ê
error
ë ñ
=
ó ò
null
ô ù
)
ù û
{ 	
var 
paramString 
= 
new !
StringBuilder" /
(/ 0
)0 1
;1 2
if 
( 
! 
string 
. 
IsNullOrEmpty %
(% &
error& +
)+ ,
), -
{ 
paramString 
. 
Append "
(" #
$str# :
+; <
error= B
+C D
$strE K
)K L
;L M
} 

parameters 
. 
Where 
( 
param "
=># %
param& +
!=, .
null/ 3
)3 4
. 
ToList 
( 
) 
.   
ForEach   
(   
param   
=>   
{!! 
paramString"" 
."" 
Append"" !
(""! "
param""" '
.""' (
ParameterName""( 5
+""6 7
$str""8 ;
)""; <
;""< =
if## 
(## 
param## 
.## 
Value## 
!=## !
null##" &
&&##' )
param##* /
.##/ 0
Value##0 5
!=##6 8
DBNull##9 ?
.##? @
Value##@ E
)##E F
paramString$$ 
.$$ 
Append$$ %
($$% &
param$$& +
.$$+ ,
Value$$, 1
.$$1 2
ToString$$2 :
($$: ;
)$$; <
)$$< =
;$$= >
paramString%% 
.%% 
Append%% !
(%%! "
$char%%" %
)%%% &
;%%& '
}&& 
)&& 
;&& 
var(( 
auditParams(( 
=(( 
new(( !
[((! "
]((" #
{)) 
new**
 
SqlParameter** 
(** 
$str** '
,**' (
	SqlDbType**) 2
.**2 3
VarChar**3 :
,**: ;
$num**< ?
)**? @
{**A B
Value**C H
=**I J
	procedure**K T
}**U V
,**V W
new++
 
SqlParameter++ 
(++ 
$str++ (
,++( )
	SqlDbType++* 3
.++3 4
Text++4 8
)++8 9
{++: ;
Value++< A
=++B C
paramString++D O
.++O P
ToString++P X
(++X Y
)++Y Z
}++[ \
,++\ ]
new,,
 
SqlParameter,, 
(,, 
$str,, "
,,," #
	SqlDbType,,$ -
.,,- .
VarChar,,. 5
,,,5 6
$num,,7 9
),,9 :
{,,; <
Value,,= B
=,,C D
userName,,D L
},,L M
,,,M N
new--
 
SqlParameter-- 
(-- 
$str-- -
,--- .
	SqlDbType--/ 8
.--8 9
VarChar--9 @
,--@ A
$num--B D
)--D E
{--F G
Value--H M
=--N O
transactionType--P _
}--` a
}.. 
;.. 
await00 
ExecuteSqlAsync00 !
(00! "
$str00" f
,00f g
auditParams00h s
)00s t
;00t u
}11 	
public33 
async33 
Task33 
<33 
	PagedData33 #
<33# $
AuditLog33$ ,
>33, -
>33- .
GetAuditLogsAsync33/ @
(33@ A 
PaginationParameters33A U
filter33V \
,33\ ]
string33^ d
storedProcedure33e t
)33t u
{44 	
var55 
query55 
=55 
GetDbSetFor55 #
<55# $
AuditLog55$ ,
>55, -
(55- .
)55. /
;55/ 0
query77 
=77 
query77 
.77 
Where77 
(77  
i77  !
=>77" $
i77% &
.77& '
	Procedure77' 0
==771 3
null774 8
||88 
(88  !
!88! "
i88" #
.88# $
	Procedure88$ -
.88- .

StartsWith88. 8
(888 9
$str889 D
)88D E
&&88F H
!88I J
i88J K
.88K L
	Procedure88L U
.88U V

StartsWith88V `
(88` a
$str88a w
)88w x
)88x y
)88y z
;88z {
if99 
(99 
!99 
string99 
.99 
IsNullOrEmpty99 %
(99% &
filter99& ,
.99, -
Search99- 3
)993 4
&&995 7
filter998 >
.99> ?
Search99? E
!=99F H
$str99I L
)99L M
{:: 
query;; 
=;; 
query;; 
.;; 
Where;; #
(;;# $
i;;$ %
=>;;& (
i<< 
.<< 
	Procedure<< 
==<< 
filter<< %
.<<% &
Search<<& ,
)<<, -
;<<- .
}== 
query?? 
=?? 
(?? 

IQueryable?? 
<??  
AuditLog??  (
>??( )
)??) *
ApplySorting??* 6
(??6 7
query??7 <
,??< =
filter??> D
.??D E
SortBy??E K
,??K L
filter??M S
.??S T

Descending??T ^
)??^ _
;??_ `
var@@ 
totalRecords@@ 
=@@ 
await@@ $
query@@% *
.@@* +

CountAsync@@+ 5
(@@5 6
)@@6 7
;@@7 8
varAA 
auditResultAA 
=AA 
awaitAA #
queryAA$ )
.AA) *
SkipAA* .
(AA. /
(AA/ 0
filterAA0 6
.AA6 7
PageAA7 ;
-AA< =
$numAA> ?
)AA? @
*AAA B
filterAAC I
.AAI J
PageSizeAAJ R
)AAR S
.BB 
TakeBB 
(BB 
filterBB 
.BB 
PageSizeBB %
)BB% &
.CC 
ToListAsyncCC 
(CC 
)CC 
;CC 
returnDD 
newDD 
	PagedDataDD  
<DD  !
AuditLogDD! )
>DD) *
(DD* +
auditResultDD+ 6
,DD6 7
totalRecordsDD8 D
)DDD E
;DDE F
}FF 	
publicGG 
asyncGG 
TaskGG 
<GG 
ListGG 
<GG 
stringGG %
>GG% &
>GG& '(
GetStoredProcedureNamesAsyncGG( D
(GGD E
)GGE F
{HH 	
varJJ 
resultJJ 
=JJ 
awaitJJ !
GetQueryableResultForJJ 4
<JJ4 5
StoredProcedureListJJ5 H
>JJH I
(JJI J
$strJJJ d
)JJd e
.KK 
ToListAsyncKK 
(KK 
)KK 
;KK 
returnMM 
resultMM 
?MM 
.NN 
WhereNN 
(NN 
rNN 
=>NN 
rNN 
?NN 
.NN 
NameNN 
!=NN  "
nullNN# '
)NN' (
.OO 
SelectOO 
(OO 
rOO 
=>OO 
rOO 
!OO 
.OO 
NameOO  
!OO  !
)OO! "
.PP 
ToListPP 
(PP 
)PP 
??PP 
newPP 
ListPP !
<PP! "
stringPP" (
>PP( )
(PP) *
)PP* +
;PP+ ,
}RR 	
publicSS 
asyncSS 
TaskSS  
ArchiveAuditLogAsyncSS .
(SS. /
stringSS/ 5
userNameSS6 >
)SS> ?
{TT 	
stringVV 
?VV 
errorVV 
=VV 
nullVV  
;VV  !
stringWW 
storedProcedureWW "
=WW# $
$strWW% ;
;WW; <
tryXX 
{YY 
awaitZZ 
ExecuteSqlAsyncZZ %
(ZZ% &
$strZZ& -
+ZZ. /
storedProcedureZZ0 ?
)ZZ? @
;ZZ@ A
}[[ 
catch\\ 
(\\ 
	Exception\\ 
ex\\ 
)\\  
{]] 
error^^ 
=^^ 
ex^^ 
.^^ 
ToString^^ #
(^^# $
)^^$ %
;^^% &
throw__ 
;__ 
}`` 
finallyaa 
{bb 
ifdd 
(dd 
!dd 
stringdd 
.dd 
Equalsdd "
(dd" #
storedProceduredd# 2
,dd2 3
$strdd4 I
,ddI J
StringComparisonddK [
.dd[ \
OrdinalIgnoreCasedd\ m
)ddm n
&&ddo q
!ee 
stringee 
.ee 
Equalsee "
(ee" #
storedProcedureee# 2
,ee2 3
$stree4 E
,eeE F
StringComparisoneeG W
.eeW X
OrdinalIgnoreCaseeeX i
)eei j
)eej k
{ff 
awaitgg 
AddAuditLogAsyncgg *
(gg* +
storedProcedurehh '
,hh' (
Arrayii 
.ii 
Emptyii "
<ii" #
SqlParameterii# /
>ii/ 0
(ii0 1
)ii1 2
,ii2 3
$strjj 
,jj  
userNamekk  
,kk  !
errorll 
)mm 
;mm 
}nn 
}oo 
}pp 	
privateqq 
staticqq 

IQueryableqq !"
ApplySortingByPropertyqq" 8
(qq8 9

IQueryableqq9 C
<qqC D
AuditLogqqD L
>qqL M
queryqqN S
,qqS T
stringqqU [
propertyqq\ d
,qqd e
boolqqf j

descendingqqk u
)qqu v
{rr 	
returnss 
propertyss 
switchss "
{tt 
$struu 
=>uu 

ApplyOrderuu $
(uu$ %
queryuu% *
,uu* +
iuu, -
=>uu. 0
iuu1 2
.uu2 3
Useruu3 7
,uu7 8

descendinguu9 C
)uuC D
,uuD E
$strvv !
=>vv" $

ApplyOrdervv% /
(vv/ 0
queryvv0 5
,vv5 6
ivv7 8
=>vv9 ;
ivv< =
.vv= >
TransactionTypevv> M
,vvM N

descendingvvO Y
)vvY Z
,vvZ [
$strww 
=>ww 

ApplyOrderww )
(ww) *
queryww* /
,ww/ 0
iww1 2
=>ww3 5
iww6 7
.ww7 8
	Procedureww8 A
,wwA B

descendingwwC M
)wwM N
,wwN O
$strxx 
=>xx 

ApplyOrderxx  *
(xx* +
queryxx+ 0
,xx0 1
ixx2 3
=>xx4 6
ixx7 8
.xx8 9

Parametersxx9 C
,xxC D

descendingxxE O
)xxO P
,xxP Q
$stryy 
=>yy 

ApplyOrderyy $
(yy$ %
queryyy% *
,yy* +
iyy, -
=>yy. 0
iyy1 2
.yy2 3
Dateyy3 7
,yy7 8

descendingyy9 C
)yyC D
,yyD E
_{{ 
=>{{ 
query{{ 
}|| 
;|| 
}}} 	
private~~ 
static~~ 

IQueryable~~ !

ApplyOrder~~" ,
<~~, -
T~~- .
>~~. /
(~~/ 0

IQueryable~~0 :
<~~: ;
AuditLog~~; C
>~~C D
query~~E J
,~~J K

Expression~~L V
<~~V W
Func~~W [
<~~[ \
AuditLog~~\ d
,~~d e
T~~f g
>~~g h
>~~h i
keySelector~~j u
,~~u v
bool~~w {

descending	~~| Ü
)
~~Ü á
{ 	
return
ÄÄ 

descending
ÄÄ 
?
ÄÄ 
query
ÄÄ  %
.
ÄÄ% &
OrderByDescending
ÄÄ& 7
(
ÄÄ7 8
keySelector
ÄÄ8 C
)
ÄÄC D
:
ÄÄE F
query
ÄÄG L
.
ÄÄL M
OrderBy
ÄÄM T
(
ÄÄT U
keySelector
ÄÄU `
)
ÄÄ` a
;
ÄÄa b
}
ÅÅ 	
private
ÇÇ 
static
ÇÇ 

IQueryable
ÇÇ !
ApplySorting
ÇÇ" .
(
ÇÇ. /

IQueryable
ÇÇ/ 9
<
ÇÇ9 :
AuditLog
ÇÇ: B
>
ÇÇB C
query
ÇÇD I
,
ÇÇI J
string
ÇÇK Q
?
ÇÇQ R
sortBy
ÇÇS Y
,
ÇÇY Z
bool
ÇÇ[ _

descending
ÇÇ` j
)
ÇÇj k
{
ÉÉ 	
if
ÑÑ 
(
ÑÑ 
string
ÑÑ 
.
ÑÑ 
IsNullOrEmpty
ÑÑ $
(
ÑÑ$ %
sortBy
ÑÑ% +
)
ÑÑ+ ,
)
ÑÑ, -
{
ÖÖ 
return
ÜÜ 
query
ÜÜ 
;
ÜÜ 
}
áá 
return
ââ $
ApplySortingByProperty
ââ )
(
ââ) *
query
ââ* /
,
ââ/ 0
sortBy
ââ1 7
.
ââ7 8
ToLower
ââ8 ?
(
ââ? @
)
ââ@ A
,
ââA B

descending
ââC M
)
ââM N
;
ââN O
}
ää 	
}
ãã 
}åå ÿD
bD:\a\apha-bst\apha-bst\src\Apha.BST\Apha.BST.DataAccess\Repositories\AuditlogArchivedRepository.cs
	namespace 	
Apha
 
. 
BST 
. 

DataAccess 
. 
Repositories *
{ 
public 

class &
AuditlogArchivedRepository +
:, -
RepositoryBase. <
<< =
AuditlogArchived= M
>M N
,N O'
IAuditlogArchivedRepositoryP k
{ 
public &
AuditlogArchivedRepository )
() *

BstContext* 4
context5 <
)< =
:= >
base> B
(B C
contextC J
)J K
{L M
}N O
public 
virtual 
async 
Task !
<! "
	PagedData" +
<+ ,
AuditlogArchived, <
>< =
>= >$
GetArchiveAuditLogsAsync? W
(W X 
PaginationParametersX l
filterm s
,s t
stringu {
storedProcedure	| ã
)
ã å
{ 	
var 
query 
= 
GetDbSetFor #
<# $
AuditlogArchived$ 4
>4 5
(5 6
)6 7
;7 8
query 
= 
query 
. 
Where 
(  
i  !
=>" $
i% &
.& '
	Procedure' 0
==1 3
null4 8
|| 
(  
!  !
i! "
." #
	Procedure# ,
., -

StartsWith- 7
(7 8
$str8 C
)C D
&&E G
!H I
iI J
.J K
	ProcedureK T
.T U

StartsWithU _
(_ `
$str` v
)v w
)w x
)x y
;y z
if 
( 
! 
string 
. 
IsNullOrEmpty %
(% &
filter& ,
., -
Search- 3
)3 4
&&5 7
filter8 >
.> ?
Search? E
!=F H
$strI L
)L M
{ 
query 
= 
query 
. 
Where #
(# $
i$ %
=>& (
i 
. 
	Procedure 
== 
filter %
.% &
Search& ,
), -
;- .
} 
query 
= 
( 

IQueryable 
<  
AuditlogArchived  0
>0 1
)1 2
ApplySorting2 >
(> ?
query? D
,D E
filterF L
.L M
SortByM S
,S T
filterU [
.[ \

Descending\ f
)f g
;g h
var 
totalRecords 
= 
await $
query% *
.* +

CountAsync+ 5
(5 6
)6 7
;7 8
var   
auditResult   
=   
await   #
query  $ )
.  ) *
Skip  * .
(  . /
(  / 0
filter  0 6
.  6 7
Page  7 ;
-  < =
$num  > ?
)  ? @
*  A B
filter  C I
.  I J
PageSize  J R
)  R S
.!! 
Take!! 
(!! 
filter!! 
.!! 
PageSize!! %
)!!% &
."" 
ToListAsync"" 
("" 
)"" 
;"" 
return## 
new## 
	PagedData##  
<##  !
AuditlogArchived##! 1
>##1 2
(##2 3
auditResult##3 >
,##> ?
totalRecords##@ L
)##L M
;##M N
}%% 	
public&& 
virtual&& 
async&& 
Task&& !
<&&! "
List&&" &
<&&& '
string&&' -
>&&- .
>&&. /(
GetStoredProcedureNamesAsync&&0 L
(&&L M
)&&M N
{'' 	
var)) 
result)) 
=)) 
await)) !
GetQueryableResultFor)) 4
<))4 5
StoredProcedureList))5 H
>))H I
())I J
$str))J k
)))k l
.** 
ToListAsync** 
(** 
)** 
;** 
return,, 
result,, 
?,, 
.-- 
Where-- 
(-- 
r-- 
=>-- 
r-- 
?-- 
.-- 
Name-- 
!=--  "
null--# '
)--' (
... 
Select.. 
(.. 
r.. 
=>.. 
r.. 
!.. 
... 
Name..  
!..  !
)..! "
.// 
ToList// 
(// 
)// 
??// 
new// 
List// !
<//! "
string//" (
>//( )
(//) *
)//* +
;//+ ,
}11 	
private22 
static22 

IQueryable22 !"
ApplySortingByProperty22" 8
(228 9

IQueryable229 C
<22C D
AuditlogArchived22D T
>22T U
query22V [
,22[ \
string22] c
property22d l
,22l m
bool22n r

descending22s }
)22} ~
{33 	
return44 
property44 
switch44 "
{55 
$str66 
=>66 

ApplyOrder66 $
(66$ %
query66% *
,66* +
i66, -
=>66. 0
i661 2
.662 3
User663 7
,667 8

descending669 C
)66C D
,66D E
$str77 !
=>77" $

ApplyOrder77% /
(77/ 0
query770 5
,775 6
i777 8
=>779 ;
i77< =
.77= >
TransactionType77> M
,77M N

descending77O Y
)77Y Z
,77Z [
$str88 
=>88 

ApplyOrder88 )
(88) *
query88* /
,88/ 0
i881 2
=>883 5
i886 7
.887 8
	Procedure888 A
,88A B

descending88C M
)88M N
,88N O
$str99 
=>99 

ApplyOrder99  *
(99* +
query99+ 0
,990 1
i992 3
=>994 6
i997 8
.998 9

Parameters999 C
,99C D

descending99E O
)99O P
,99P Q
$str:: 
=>:: 

ApplyOrder:: $
(::$ %
query::% *
,::* +
i::, -
=>::. 0
i::1 2
.::2 3
Date::3 7
,::7 8

descending::9 C
)::C D
,::D E
_<< 
=><< 
query<< 
}== 
;== 
}>> 	
private?? 
static?? 

IQueryable?? !

ApplyOrder??" ,
<??, -
T??- .
>??. /
(??/ 0

IQueryable??0 :
<??: ;
AuditlogArchived??; K
>??K L
query??M R
,??R S

Expression??T ^
<??^ _
Func??_ c
<??c d
AuditlogArchived??d t
,??t u
T??v w
>??w x
>??x y
keySelector	??z Ö
,
??Ö Ü
bool
??á ã

descending
??å ñ
)
??ñ ó
{@@ 	
returnAA 

descendingAA 
?AA 
queryAA  %
.AA% &
OrderByDescendingAA& 7
(AA7 8
keySelectorAA8 C
)AAC D
:AAE F
queryAAG L
.AAL M
OrderByAAM T
(AAT U
keySelectorAAU `
)AA` a
;AAa b
}BB 	
privateCC 
staticCC 

IQueryableCC !
ApplySortingCC" .
(CC. /

IQueryableCC/ 9
<CC9 :
AuditlogArchivedCC: J
>CCJ K
queryCCL Q
,CCQ R
stringCCS Y
?CCY Z
sortByCC[ a
,CCa b
boolCCc g

descendingCCh r
)CCr s
{DD 	
ifEE 
(EE 
stringEE 
.EE 
IsNullOrEmptyEE $
(EE$ %
sortByEE% +
)EE+ ,
)EE, -
{FF 
returnGG 
queryGG 
;GG 
}HH 
returnJJ "
ApplySortingByPropertyJJ )
(JJ) *
queryJJ* /
,JJ/ 0
sortByJJ1 7
.JJ7 8
ToLowerJJ8 ?
(JJ? @
)JJ@ A
,JJA B

descendingJJC M
)JJM N
;JJN O
}KK 	
}LL 
}MM º
_D:\a\apha-bst\apha-bst\src\Apha.BST\Apha.BST.DataAccess\Repositories\AccessControlRepository.cs
	namespace 	
Apha
 
. 
BST 
. 

DataAccess 
. 
Repositories *
{		 
public

 

class

 #
AccessControlRepository

 (
:

) *
RepositoryBase

+ 9
<

9 :
UserRoleInfo

: F
>

F G
,

G H$
IAccessControlRepository

I a
{ 
public #
AccessControlRepository &
(& '

BstContext' 1
context2 9
)9 :
:; <
base= A
(A B
contextB I
)I J
{K L
}M N
public 
async 
Task 
< 
( 
byte 
?  
RoleId! '
,' (
string) /
?/ 0
Username1 9
)9 :
?: ;
>; <,
 GetRoleIdAndUsernameByEmailAsync= ]
(] ^
string^ d
emaile j
)j k
{ 	
var 
param 
= 
new 
SqlParameter (
(( )
$str) 2
,2 3
email4 9
)9 :
;: ;
var 
result 
= 
await !
GetQueryableResultFor 4
<4 5
UserRoleInfo5 A
>A B
(B C
$strC ]
,] ^
param_ d
)d e
. 
AsNoTracking 
( 
) 
. 
ToListAsync 
( 
) 
; 
if 
( 
result 
. 
Count 
> 
$num  
)  !
{ 
var 
item 
= 
result !
[! "
$num" #
]# $
;$ %
if 
( 
item 
== 
null  
)  !
{ 
return 
null 
;  
} 
return 
( 
item 
. 
	UserLevel &
,& '
item( ,
., -
UserName- 5
)5 6
;6 7
} 
return 
null 
; 
}!! 	
}## 
}$$ …
ID:\a\apha-bst\apha-bst\src\Apha.BST\Apha.BST.DataAccess\Data\VlaLocMap.cs
	namespace

 	
Apha


 
.

 
BST

 
.

 

DataAccess

 
.

 
Data

 "
{ 
public 

class 
	VlaLocMap 
: $
IEntityTypeConfiguration 5
<5 6
VlaLoc6 <
>< =
{ 
public 
void 
	Configure 
( 
EntityTypeBuilder /
</ 0
VlaLoc0 6
>6 7
entity8 >
)> ?
{ 	
entity 
. 
HasKey 
( 
e 
=> 
e  
.  !
LocId! &
)& '
;' (
entity 
. 
ToTable 
( 
$str &
)& '
;' (
entity 
. 
Property 
( 
e 
=>  
e! "
." #
LocId# (
)( )
. 
HasMaxLength 
( 
$num  
)  !
. 
HasColumnName 
( 
$str '
)' (
;( )
entity 
. 
Property 
( 
e 
=>  
e! "
." #
Ahvla# (
)( )
. 
HasMaxLength 
( 
$num  
)  !
. 
IsFixedLength 
( 
)  
. 
HasColumnName 
( 
$str &
)& '
;' (
entity 
. 
Property 
( 
e 
=>  
e! "
." #
VlaLocation# .
). /
. 
HasMaxLength 
( 
$num  
)  !
. 
HasColumnName 
( 
$str -
)- .
;. /
} 	
} 
}   ´
GD:\a\apha-bst\apha-bst\src\Apha.BST\Apha.BST.DataAccess\Data\UserMap.cs
	namespace

 	
Apha


 
.

 
BST

 
.

 

DataAccess

 
.

 
Data

 "
{ 
public 

class 
UserMapTrainingMap #
:$ %$
IEntityTypeConfiguration& >
<> ?
User? C
>C D
{ 
public 
void 
	Configure 
( 
EntityTypeBuilder /
</ 0
User0 4
>4 5
entity6 <
)< =
{ 	
entity 
. 
HasKey 
( 
e 
=> 
e  
.  !
UserId! '
)' (
;( )
entity 
. 
ToTable 
( 
$str $
)$ %
;% &
entity 
. 
Property 
( 
e 
=>  
e! "
." #
UserId# )
)) *
. 
HasMaxLength 
( 
$num  
)  !
. 
HasColumnName 
( 
$str '
)' (
;( )
entity 
. 
Property 
( 
e 
=>  
e! "
." #
UserLoc# *
)* +
. 
HasMaxLength 
( 
$num  
)  !
. 
HasColumnName 
( 
$str )
)) *
;* +
entity 
. 
Property 
( 
e 
=>  
e! "
." #
UserName# +
)+ ,
., -
HasMaxLength- 9
(9 :
$num: =
)= >
;> ?
} 	
} 
} ã
LD:\a\apha-bst\apha-bst\src\Apha.BST\Apha.BST.DataAccess\Data\TrainingsMap.cs
	namespace

 	
Apha


 
.

 
BST

 
.

 

DataAccess

 
.

 
Data

 "
{ 
public 

class 
TrainingsMap 
: $
IEntityTypeConfiguration  8
<8 9
	Trainings9 B
>B C
{ 
public 
void 
	Configure 
( 
EntityTypeBuilder /
</ 0
	Trainings0 9
>9 :
entity; A
)A B
{ 	
entity 
. 
HasKey 
( 
e 
=> 
new "
{# $
e% &
.& '
	TraineeNo' 0
,0 1
e2 3
.3 4
DateTrained4 ?
,? @
eA B
.B C
SpeciesTrainedC Q
}R S
)S T
.T U
HasNameU \
(\ ]
$str] o
)o p
;p q
entity 
. 
ToTable 
( 
$str (
)( )
;) *
entity 
. 
Property 
( 
e 
=>  
e! "
." #
	TraineeNo# ,
), -
.- .
HasColumnName. ;
(; <
$str< H
)H I
;I J
entity 
. 
Property 
( 
e 
=>  
e! "
." #
DateTrained# .
). /
. 
HasMaxLength 
( 
$num !
)! "
. 
HasColumnName 
( 
$str -
)- .
;. /
entity 
. 
Property 
( 
e 
=>  
e! "
." #
SpeciesTrained# 1
)1 2
. 
HasMaxLength 
( 
$num  
)  !
. 
HasColumnName 
( 
$str 0
)0 1
;1 2
entity 
. 
Property 
( 
e 
=>  
e! "
." #
	TrainerId# ,
), -
.- .
HasColumnName. ;
(; <
$str< H
)H I
;I J
entity 
. 
HasOne 
( 
d 
=> 
d  
.  !
TraineeNoNavigation! 4
)4 5
.5 6
WithMany6 >
(> ?
p? @
=>A C
pD E
.E F
TblTrainingsF R
)R S
. 
HasForeignKey 
( 
d  
=>! #
d$ %
.% &
	TraineeNo& /
)/ 0
. 
HasConstraintName "
(" #
$str# >
)> ?
;? @
entity!! 
.!! 
HasOne!! 
(!! 
d!! 
=>!! 
d!!  
.!!  !
Trainer!!! (
)!!( )
.!!) *
WithMany!!* 2
(!!2 3
p!!3 4
=>!!5 7
p!!8 9
.!!9 :
TblTrainings!!: F
)!!F G
."" 
HasForeignKey"" 
("" 
d""  
=>""! #
d""$ %
.""% &
	TrainerId""& /
)""/ 0
.## 
HasConstraintName## "
(##" #
$str### ?
)##? @
;##@ A
}%% 	
}&& 
}'' –
KD:\a\apha-bst\apha-bst\src\Apha.BST\Apha.BST.DataAccess\Data\TrainingMap.cs
	namespace

 	
Apha


 
.

 
BST

 
.

 

DataAccess

 
.

 
Data

 "
{ 
public 

class 
TrainingMap 
: $
IEntityTypeConfiguration 7
<7 8
Training8 @
>@ A
{ 
public 
void 
	Configure 
( 
EntityTypeBuilder /
</ 0
Training0 8
>8 9
entity: @
)@ A
{ 	
entity 
. 
HasKey 
( 
e 
=> 
new "
{# $
e 
. 
PersonId 
, 
e 
. 
TrainingAnimal  
,  !
e 
. 
TrainingDateTime "
} 
) 
. 
HasName 
( 
$str '
)' (
;( )
entity 
. 
ToTable 
( 
$str &
)& '
;' (
entity 
. 
Property 
( 
e 
=>  
e! "
." #
PersonId# +
)+ ,
., -
HasColumnName- :
(: ;
$str; E
)E F
;F G
entity 
. 
Property 
( 
e 
=>  
e! "
." #
TrainingAnimal# 1
)1 2
.2 3
HasMaxLength3 ?
(? @
$num@ B
)B C
;C D
entity 
. 
Property 
( 
e 
=>  
e! "
." #
TrainingDateTime# 3
)3 4
.4 5
HasColumnType5 B
(B C
$strC M
)M N
;N O
entity 
. 
Property 
( 
e 
=>  
e! "
." #
	TrainerId# ,
), -
.- .
HasColumnName. ;
(; <
$str< G
)G H
;H I
entity 
. 
Property 
( 
e 
=>  
e! "
." #
TrainingType# /
)/ 0
.0 1
HasMaxLength1 =
(= >
$num> @
)@ A
;A B
} 	
}   
}!! ±
KD:\a\apha-bst\apha-bst\src\Apha.BST\Apha.BST.DataAccess\Data\TrainersMap.cs
	namespace

 	
Apha


 
.

 
BST

 
.

 

DataAccess

 
.

 
Data

 "
{ 
public 

class 
TrainersMap 
: $
IEntityTypeConfiguration 7
<7 8
Trainers8 @
>@ A
{ 
public 
void 
	Configure 
( 
EntityTypeBuilder /
</ 0
Trainers0 8
>8 9
entity: @
)@ A
{ 	
entity 
. 
HasKey 
( 
e 
=> 
e  
.  !
	TrainerId! *
)* +
;+ ,
entity 
. 
ToTable 
( 
$str (
)( )
;) *
entity 
. 
Property 
( 
e 
=>  
e! "
." #
	TrainerId# ,
), -
.- .
HasColumnName. ;
(; <
$str< H
)H I
;I J
entity 
. 
Property 
( 
e 
=>  
e! "
." #
LocId# (
)( )
. 
HasMaxLength 
( 
$num  
)  !
. 
HasColumnName 
( 
$str '
)' (
;( )
entity 
. 
Property 
( 
e 
=>  
e! "
." #
PersonId# +
)+ ,
., -
HasColumnName- :
(: ;
$str; F
)F G
;G H
entity 
. 
Property 
( 
e 
=>  
e! "
." #
Trainer# *
)* +
.+ ,
HasMaxLength, 8
(8 9
$num9 <
)< =
;= >
entity 
. 
HasOne 
( 
d 
=> 
d  
.  !
Loc! $
)$ %
.% &
WithMany& .
(. /
p/ 0
=>1 3
p4 5
.5 6
TblTrainers6 A
)A B
. 
HasForeignKey 
( 
d  
=>! #
d$ %
.% &
LocId& +
)+ ,
. 
OnDelete 
( 
DeleteBehavior (
.( )
Cascade) 0
)0 1
. 
HasConstraintName "
(" #
$str# =
)= >
;> ?
} 	
}   
}!! ∞
KD:\a\apha-bst\apha-bst\src\Apha.BST\Apha.BST.DataAccess\Data\TraineesMap.cs
	namespace

 	
Apha


 
.

 
BST

 
.

 

DataAccess

 
.

 
Data

 "
{ 
public 

class 
TraineesMap 
: $
IEntityTypeConfiguration 7
<7 8
Trainees8 @
>@ A
{ 
public 
void 
	Configure 
( 
EntityTypeBuilder /
</ 0
Trainees0 8
>8 9
entity: @
)@ A
{ 	
entity 
. 
HasKey 
( 
e 
=> 
e  
.  !
	TraineeNo! *
)* +
;+ ,
entity 
. 
ToTable 
( 
$str '
)' (
;( )
entity 
. 
Property 
( 
e 
=>  
e! "
." #
	TraineeNo# ,
), -
.- .
HasColumnName. ;
(; <
$str< H
)H I
;I J
entity 
. 
Property 
( 
e 
=>  
e! "
." #
PlantNo# *
)* +
. 
HasMaxLength 
( 
$num  
)  !
. 
HasColumnName 
( 
$str )
)) *
;* +
entity 
. 
Property 
( 
e 
=>  
e! "
." #
Trainee# *
)* +
.+ ,
HasMaxLength, 8
(8 9
$num9 <
)< =
;= >
entity 
. 
HasOne 
( 
d 
=> 
d  
.  !
PlantNoNavigation! 2
)2 3
.3 4
WithMany4 <
(< =
p= >
=>? A
pB C
.C D
TblTraineesD O
)O P
. 
HasForeignKey 
( 
d  
=>! #
d$ %
.% &
PlantNo& -
)- .
. 
OnDelete 
( 
DeleteBehavior (
.( )
Cascade) 0
)0 1
. 
HasConstraintName "
(" #
$str# ;
); <
;< =
} 	
} 
}   õ
GD:\a\apha-bst\apha-bst\src\Apha.BST\Apha.BST.DataAccess\Data\SiteMap.cs
	namespace

 	
Apha


 
.

 
BST

 
.

 

DataAccess

 
.

 
Data

 "
{ 
public 

class 
SiteMap 
: $
IEntityTypeConfiguration 3
<3 4
Site4 8
>8 9
{ 
public 
void 
	Configure 
( 
EntityTypeBuilder /
</ 0
Site0 4
>4 5
entity6 <
)< =
{ 	
entity 
. 
ToTable 
( 
$str  
)  !
;! "
entity 
. 
HasKey 
( 
e 
=> 
e  
.  !
PlantNo! (
)( )
;) *
entity 
. 
Property 
( 
e 
=>  
e! "
." #
AddressCounty# 0
)0 1
.1 2
HasMaxLength2 >
(> ?
$num? A
)A B
;B C
entity 
. 
Property 
( 
e 
=>  
e! "
." #
AddressLine1# /
)/ 0
.0 1
HasMaxLength1 =
(= >
$num> @
)@ A
;A B
entity 
. 
Property 
( 
e 
=>  
e! "
." #
AddressLine2# /
)/ 0
.0 1
HasMaxLength1 =
(= >
$num> @
)@ A
;A B
entity 
. 
Property 
( 
e 
=>  
e! "
." #
AddressPostCode# 2
)2 3
.3 4
HasMaxLength4 @
(@ A
$numA C
)C D
;D E
entity 
. 
Property 
( 
e 
=>  
e! "
." #
AddressTown# .
). /
./ 0
HasMaxLength0 <
(< =
$num= ?
)? @
;@ A
entity 
. 
Property 
( 
e 
=>  
e! "
." #
Ahvla# (
)( )
. 
HasMaxLength 
( 
$num  
)  !
. 
IsFixedLength 
( 
)  
. 
HasColumnName 
( 
$str &
)& '
;' (
entity 
. 
Property 
( 
e 
=>  
e! "
." #
Fax# &
)& '
.' (
HasMaxLength( 4
(4 5
$num5 7
)7 8
;8 9
entity 
. 
Property 
( 
e 
=>  
e! "
." #
Name# '
)' (
.( )
HasMaxLength) 5
(5 6
$num6 8
)8 9
;9 :
entity 
. 
Property 
( 
e 
=>  
e! "
." #
PlantNo# *
)* +
.+ ,
HasMaxLength, 8
(8 9
$num9 ;
); <
;< =
entity   
.   
Property   
(   
e   
=>    
e  ! "
.  " #
	Telephone  # ,
)  , -
.  - .
HasMaxLength  . :
(  : ;
$num  ; =
)  = >
;  > ?
}!! 	
}"" 
}## 
JD:\a\apha-bst\apha-bst\src\Apha.BST\Apha.BST.DataAccess\Data\PersonsMap.cs
	namespace

 	
Apha


 
.

 
BST

 
.

 

DataAccess

 
.

 
Data

 "
{ 
public 

class 

PersonsMap 
: $
IEntityTypeConfiguration 4
<4 5
Persons5 <
>< =
{ 
public 
void 
	Configure 
( 
EntityTypeBuilder /
</ 0
Persons0 7
>7 8
entity9 ?
)? @
{ 	
entity 
. 
HasKey 
( 
e 
=> 
e  
.  !
PersonId! )
)) *
;* +
entity 
. 
ToTable 
( 
$str $
)$ %
;% &
entity 
. 
Property 
( 
e 
=>  
e! "
." #
PersonId# +
)+ ,
., -
HasColumnName- :
(: ;
$str; E
)E F
;F G
entity 
. 
Property 
( 
e 
=>  
e! "
." #

LocationId# -
)- .
. 
HasMaxLength 
( 
$num  
)  !
. 
HasColumnName 
( 
$str +
)+ ,
;, -
entity 
. 
Property 
( 
e 
=>  
e! "
." #
Person# )
)) *
.* +
HasMaxLength+ 7
(7 8
$num8 ;
); <
;< =
entity 
. 
Property 
( 
e 
=>  
e! "
." #
VlalocationId# 0
)0 1
.1 2
HasColumnName2 ?
(? @
$str@ O
)O P
;P Q
} 	
} 
} Ø
GD:\a\apha-bst\apha-bst\src\Apha.BST\Apha.BST.DataAccess\Data\NewsMap.cs
	namespace

 	
Apha


 
.

 
BST

 
.

 

DataAccess

 
.

 
Data

 "
{ 
public 

class 
NewsMap 
: $
IEntityTypeConfiguration 2
<2 3
News3 7
>7 8
{ 
public 
void 
	Configure 
( 
EntityTypeBuilder /
</ 0
News0 4
>4 5
entity6 <
)< =
{ 	
entity 
. 
HasKey 
( 
e 
=> 
e  
.  !
DatePublished! .
). /
;/ 0
entity 
. 
ToTable 
( 
$str $
)$ %
;% &
entity 
. 
Property 
( 
e 
=>  
e! "
." #
DatePublished# 0
)0 1
. 
HasColumnType 
( 
$str .
). /
. 
HasColumnName 
( 
$str /
)/ 0
;0 1
entity 
. 
Property 
( 
e 
=>  
e! "
." #
Author# )
)) *
.* +
HasMaxLength+ 7
(7 8
$num8 :
): ;
;; <
entity 
. 
Property 
( 
e 
=>  
e! "
." #
NewsContent# .
). /
./ 0
HasColumnName0 =
(= >
$str> L
)L M
;M N
entity 
. 
Property 
( 
e 
=>  
e! "
." #
Title# (
)( )
.) *
HasMaxLength* 6
(6 7
$num7 :
): ;
;; <
entity 
. 
HasOne 
( 
d 
=> 
d  
.  !
AuthorNavigation! 1
)1 2
.2 3
WithMany3 ;
(; <
p< =
=>> @
pA B
.B C
NewsC G
)G H
. 
HasForeignKey 
( 
d  
=>! #
d$ %
.% &
Author& ,
), -
. 
HasConstraintName "
(" #
$str# 7
)7 8
;8 9
} 	
} 
}   Ã
LD:\a\apha-bst\apha-bst\src\Apha.BST\Apha.BST.DataAccess\Data\DataEntryMap.cs
	namespace

 	
Apha


 
.

 
BST

 
.

 

DataAccess

 
.

 
Data

 "
{ 
public 

class 
DataEntryMap 
: $
IEntityTypeConfiguration 7
<7 8
	DataEntry8 A
>A B
{ 
public 
void 
	Configure 
( 
EntityTypeBuilder /
</ 0
	DataEntry0 9
>9 :
entity; A
)A B
{ 	
entity 
. 
HasKey 
( 
e 
=> 
e  
.  !

ActiveView! +
)+ ,
;, -
entity 
. 
ToTable 
( 
$str )
)) *
;* +
entity 
. 
Property 
( 
e 
=>  
e! "
." #

ActiveView# -
)- .
.. /
ValueGeneratedNever/ B
(B C
)C D
;D E
entity 
. 
Property 
( 
e 
=>  
e! "
." #
ActiveViewName# 1
)1 2
.2 3
HasMaxLength3 ?
(? @
$num@ B
)B C
;C D
entity 
. 
Property 
( 
e 
=>  
e! "
." #
CanWrite# +
)+ ,
. 
HasMaxLength 
( 
$num 
)  
. 
IsFixedLength 
( 
)  
;  !
} 	
} 
} ë€
JD:\a\apha-bst\apha-bst\src\Apha.BST\Apha.BST.DataAccess\Data\BSTContext.cs
	namespace 	
Apha
 
. 
BST 
. 

DataAccess 
. 
Data "
;" #
public 
partial 
class 

BstContext 
:  !
	DbContext" +
{		 
public

 


BstContext

 
(

 
)

 
{ 
} 
public 


BstContext 
( 
DbContextOptions &
<& '

BstContext' 1
>1 2
options3 :
): ;
: 	
base
 
( 
options 
) 
{ 
} 
public 

virtual 
DbSet 
< 
AuditLog !
>! "
	Auditlogs# ,
{- .
get/ 2
;2 3
set4 7
;7 8
}9 :
public 

virtual 
DbSet 
< 
AuditlogArchived )
>) *
AuditlogArchiveds+ <
{= >
get? B
;B C
setD G
;G H
}I J
public 

virtual 
DbSet 
< 
Persons  
>  !
Persons" )
{* +
get, /
;/ 0
set1 4
;4 5
}6 7
public 

virtual 
DbSet 
< 
Site 
> 
Sites $
{% &
get' *
;* +
set, /
;/ 0
}1 2
public 

virtual 
DbSet 
< 
Training !
>! "
	Trainings# ,
{- .
get/ 2
;2 3
set4 7
;7 8
}9 :
public 

virtual 
DbSet 
< 
	DataEntry "
>" #
DataEntries$ /
{0 1
get2 5
;5 6
set7 :
;: ;
}< =
public 

virtual 
DbSet 
< 
News 
> 
News #
{$ %
get& )
;) *
set+ .
;. /
}0 1
public!! 

virtual!! 
DbSet!! 
<!! 
TblSite!!  
>!!  !
TblSites!!" *
{!!+ ,
get!!- 0
;!!0 1
set!!2 5
;!!5 6
}!!7 8
public## 

virtual## 
DbSet## 
<## 
Trainees## !
>##! "
Trainees### +
{##, -
get##. 1
;##1 2
set##3 6
;##6 7
}##8 9
public%% 

virtual%% 
DbSet%% 
<%% 
Trainers%% !
>%%! "
Trainers%%# +
{%%, -
get%%. 1
;%%1 2
set%%3 6
;%%6 7
}%%8 9
public'' 

virtual'' 
DbSet'' 
<'' 
	Trainings'' "
>''" #
TblTrainings''$ 0
{''1 2
get''3 6
;''6 7
set''8 ;
;''; <
}''= >
public)) 

virtual)) 
DbSet)) 
<)) 
User)) 
>)) 
Users)) $
{))% &
get))' *
;))* +
set)), /
;))/ 0
}))1 2
public++ 

virtual++ 
DbSet++ 
<++ 
VlaLoc++ 
>++  
Vlalocs++! (
{++) *
get+++ .
;++. /
set++0 3
;++3 4
}++5 6
public,, 

DbSet,, 
<,, 
SiteTrainee,, 
>,, 
SiteTrainees,, *
{,,+ ,
get,,- 0
;,,0 1
set,,2 5
;,,5 6
},,7 8
public-- 

DbSet-- 
<-- 
TraineeTrainer-- 
>--  
Traines--! (
{--) *
get--+ .
;--. /
set--0 3
;--3 4
}--5 6
public.. 

DbSet.. 
<.. 
TrainerTraining..  
>..  !
TrainerTrainings.." 2
{..3 4
get..5 8
;..8 9
set..: =
;..= >
}..? @
public// 

DbSet// 
<// 
TrainerHistory// 
>//  
TrainerHistorys//! 0
{//1 2
get//3 6
;//6 7
set//8 ;
;//; <
}//= >
public00 

DbSet00 
<00 
TrainerTrained00 
>00  
TrainerTraineds00! 0
{001 2
get003 6
;006 7
set008 ;
;00; <
}00= >
public11 

DbSet11 
<11 
UserRoleInfo11 
>11 
UserRoleInfos11 ,
{11- .
get11/ 2
;112 3
set114 7
;117 8
}119 :
public22 

DbSet22 
<22 
	AddPerson22 
>22 

AddPersons22 &
{22' (
get22) ,
;22, -
set22. 1
;221 2
}223 4
public33 

DbSet33 
<33 
PersonSiteLookup33 !
>33! "
PersonSiteLookups33# 4
{335 6
get337 :
;33: ;
set33< ?
;33? @
}33A B
public44 

DbSet44 
<44 
PersonLookup44 
>44 
PersonLookups44 ,
{44- .
get44/ 2
;442 3
set444 7
;447 8
}449 :
public55 

DbSet55 
<55 
PersonDetail55 
>55 
PersonDetails55 ,
{55- .
get55/ 2
;552 3
set554 7
;557 8
}559 :
public66 

virtual66 
DbSet66 
<66 
UserView66 !
>66! "
	UserViews66# ,
{66- .
get66/ 2
;662 3
set664 7
;667 8
}669 :
public77 

virtual77 
DbSet77 
<77 

VlaLocView77 #
>77# $
VlaLocViews77% 0
{771 2
get773 6
;776 7
set778 ;
;77; <
}77= >
public88 

DbSet88 
<88 

SiteReport88 
>88 
SiteReports88 (
{88) *
get88+ .
;88. /
set880 3
;883 4
}885 6
=887 8
default889 @
!88@ A
;88A B
public99 

DbSet99 
<99 
TrainerReport99 
>99 
TrainerReports99  .
{99/ 0
get991 4
;994 5
set996 9
;999 :
}99; <
=99= >
default99? F
!99F G
;99G H
public:: 

DbSet:: 
<:: 
PeopleReport:: 
>:: 
PeopleReports:: ,
{::- .
get::/ 2
;::2 3
set::4 7
;::7 8
}::9 :
=::; <
default::= D
!::D E
;::E F
public;; 

DbSet;; 
<;; 
TrainingReport;; 
>;;  
TrainingReports;;! 0
{;;1 2
get;;3 6
;;;6 7
set;;8 ;
;;;; <
};;= >
=;;? @
default;;A H
!;;H I
;;;I J
public<< 

DbSet<< 
<<< 

AphaReport<< 
><< 
AphaReports<< (
{<<) *
get<<+ .
;<<. /
set<<0 3
;<<3 4
}<<5 6
=<<7 8
default<<9 @
!<<@ A
;<<A B
public== 

virtual== 
DbSet== 
<== 
StoredProcedureList== ,
>==, - 
StoredProcedureLists==. B
{==C D
get==E H
;==H I
set==J M
;==M N
}==O P
	protected?? 
override?? 
void?? 
OnModelCreating?? +
(??+ ,
ModelBuilder??, 8
modelBuilder??9 E
)??E F
{@@ 
modelBuilderAA 
.AA 
EntityAA 
<AA 
AuditLogAA $
>AA$ %
(AA% &
entityAA& ,
=>AA- /
{BB 	
entityCC 
.DD 
HasNoKeyDD 
(DD 
)DD 
.EE 
ToTableEE 
(EE 
$strEE #
)EE# $
;EE$ %
entityGG 
.GG 
PropertyGG 
(GG 
eGG 
=>GG  
eGG! "
.GG" #
DateGG# '
)GG' (
.GG( )
HasColumnTypeGG) 6
(GG6 7
$strGG7 A
)GGA B
;GGB C
entityHH 
.HH 
PropertyHH 
(HH 
eHH 
=>HH  
eHH! "
.HH" #

ParametersHH# -
)HH- .
.HH. /
HasColumnTypeHH/ <
(HH< =
$strHH= C
)HHC D
;HHD E
entityII 
.II 
PropertyII 
(II 
eII 
=>II  
eII! "
.II" #
	ProcedureII# ,
)II, -
.JJ 
HasMaxLengthJJ 
(JJ 
$numJJ !
)JJ! "
.KK 
	IsUnicodeKK 
(KK 
falseKK  
)KK  !
;KK! "
entityLL 
.LL 
PropertyLL 
(LL 
eLL 
=>LL  
eLL! "
.LL" #
TransactionTypeLL# 2
)LL2 3
.MM 
HasMaxLengthMM 
(MM 
$numMM  
)MM  !
.NN 
	IsUnicodeNN 
(NN 
falseNN  
)NN  !
;NN! "
entityOO 
.OO 
PropertyOO 
(OO 
eOO 
=>OO  
eOO! "
.OO" #
UserOO# '
)OO' (
.PP 
HasMaxLengthPP 
(PP 
$numPP  
)PP  !
.QQ 
	IsUnicodeQQ 
(QQ 
falseQQ  
)QQ  !
;QQ! "
}RR 	
)RR	 

;RR
 
modelBuilderTT 
.TT 
EntityTT 
<TT 
AuditlogArchivedTT ,
>TT, -
(TT- .
entityTT. 4
=>TT5 7
{UU 	
entityVV 
.WW 
HasNoKeyWW 
(WW 
)WW 
.XX 
ToTableXX 
(XX 
$strXX +
)XX+ ,
;XX, -
entityZZ 
.ZZ 
PropertyZZ 
(ZZ 
eZZ 
=>ZZ  
eZZ! "
.ZZ" #
DateZZ# '
)ZZ' (
.ZZ( )
HasColumnTypeZZ) 6
(ZZ6 7
$strZZ7 A
)ZZA B
;ZZB C
entity[[ 
.[[ 
Property[[ 
([[ 
e[[ 
=>[[  
e[[! "
.[[" #

Parameters[[# -
)[[- .
.[[. /
HasColumnType[[/ <
([[< =
$str[[= C
)[[C D
;[[D E
entity\\ 
.\\ 
Property\\ 
(\\ 
e\\ 
=>\\  
e\\! "
.\\" #
	Procedure\\# ,
)\\, -
.]] 
HasMaxLength]] 
(]] 
$num]] !
)]]! "
.^^ 
	IsUnicode^^ 
(^^ 
false^^  
)^^  !
;^^! "
entity__ 
.__ 
Property__ 
(__ 
e__ 
=>__  
e__! "
.__" #
TransactionType__# 2
)__2 3
.`` 
HasMaxLength`` 
(`` 
$num``  
)``  !
.aa 
	IsUnicodeaa 
(aa 
falseaa  
)aa  !
;aa! "
entitybb 
.bb 
Propertybb 
(bb 
ebb 
=>bb  
ebb! "
.bb" #
Userbb# '
)bb' (
.cc 
HasMaxLengthcc 
(cc 
$numcc  
)cc  !
.dd 
	IsUnicodedd 
(dd 
falsedd  
)dd  !
;dd! "
}ee 	
)ee	 

;ee
 
modelBuildergg 
.gg 
Entitygg 
<gg 
Personsgg #
>gg# $
(gg$ %
entitygg% +
=>gg, .
{hh 	
entityii 
.ii 
HasKeyii 
(ii 
eii 
=>ii 
eii  
.ii  !
PersonIdii! )
)ii) *
;ii* +
entitykk 
.kk 
ToTablekk 
(kk 
$strkk $
)kk$ %
;kk% &
entitymm 
.mm 
Propertymm 
(mm 
emm 
=>mm  
emm! "
.mm" #
PersonIdmm# +
)mm+ ,
.mm, -
HasColumnNamemm- :
(mm: ;
$strmm; E
)mmE F
;mmF G
entitynn 
.nn 
Propertynn 
(nn 
enn 
=>nn  
enn! "
.nn" #

LocationIdnn# -
)nn- .
.oo 
HasMaxLengthoo 
(oo 
$numoo  
)oo  !
.pp 
HasColumnNamepp 
(pp 
$strpp +
)pp+ ,
;pp, -
entityqq 
.qq 
Propertyqq 
(qq 
eqq 
=>qq  
eqq! "
.qq" #
Personqq# )
)qq) *
.qq* +
HasMaxLengthqq+ 7
(qq7 8
$numqq8 ;
)qq; <
;qq< =
entityrr 
.rr 
Propertyrr 
(rr 
err 
=>rr  
err! "
.rr" #
VlalocationIdrr# 0
)rr0 1
.rr1 2
HasColumnNamerr2 ?
(rr? @
$strrr@ O
)rrO P
;rrP Q
}ss 	
)ss	 

;ss
 
modelBuilderuu 
.uu 
Entityuu 
<uu 
Siteuu  
>uu  !
(uu! "
entityuu" (
=>uu) +
{vv 	
entityww 
.yy 
ToTableyy 
(yy 
$stryy !
)yy! "
;yy" #
entityzz 
.zz 
HasKeyzz 
(zz 
ezz 
=>zz 
ezz  
.zz  !
PlantNozz! (
)zz( )
;zz) *
entity{{ 
.{{ 
Property{{ 
({{ 
e{{ 
=>{{  
e{{! "
.{{" #
AddressCounty{{# 0
){{0 1
.{{1 2
HasMaxLength{{2 >
({{> ?
$num{{? A
){{A B
;{{B C
entity|| 
.|| 
Property|| 
(|| 
e|| 
=>||  
e||! "
.||" #
AddressLine1||# /
)||/ 0
.||0 1
HasMaxLength||1 =
(||= >
$num||> @
)||@ A
;||A B
entity}} 
.}} 
Property}} 
(}} 
e}} 
=>}}  
e}}! "
.}}" #
AddressLine2}}# /
)}}/ 0
.}}0 1
HasMaxLength}}1 =
(}}= >
$num}}> @
)}}@ A
;}}A B
entity~~ 
.~~ 
Property~~ 
(~~ 
e~~ 
=>~~  
e~~! "
.~~" #
AddressPostCode~~# 2
)~~2 3
.~~3 4
HasMaxLength~~4 @
(~~@ A
$num~~A C
)~~C D
;~~D E
entity 
. 
Property 
( 
e 
=>  
e! "
." #
AddressTown# .
). /
./ 0
HasMaxLength0 <
(< =
$num= ?
)? @
;@ A
entity
ÄÄ 
.
ÄÄ 
Property
ÄÄ 
(
ÄÄ 
e
ÄÄ 
=>
ÄÄ  
e
ÄÄ! "
.
ÄÄ" #
Ahvla
ÄÄ# (
)
ÄÄ( )
.
ÅÅ 
HasMaxLength
ÅÅ 
(
ÅÅ 
$num
ÅÅ  
)
ÅÅ  !
.
ÇÇ 
IsFixedLength
ÇÇ 
(
ÇÇ 
)
ÇÇ  
.
ÉÉ 
HasColumnName
ÉÉ 
(
ÉÉ 
$str
ÉÉ &
)
ÉÉ& '
;
ÉÉ' (
entity
ÑÑ 
.
ÑÑ 
Property
ÑÑ 
(
ÑÑ 
e
ÑÑ 
=>
ÑÑ  
e
ÑÑ! "
.
ÑÑ" #
Fax
ÑÑ# &
)
ÑÑ& '
.
ÑÑ' (
HasMaxLength
ÑÑ( 4
(
ÑÑ4 5
$num
ÑÑ5 7
)
ÑÑ7 8
;
ÑÑ8 9
entity
ÖÖ 
.
ÖÖ 
Property
ÖÖ 
(
ÖÖ 
e
ÖÖ 
=>
ÖÖ  
e
ÖÖ! "
.
ÖÖ" #
Name
ÖÖ# '
)
ÖÖ' (
.
ÖÖ( )
HasMaxLength
ÖÖ) 5
(
ÖÖ5 6
$num
ÖÖ6 8
)
ÖÖ8 9
;
ÖÖ9 :
entity
ÜÜ 
.
ÜÜ 
Property
ÜÜ 
(
ÜÜ 
e
ÜÜ 
=>
ÜÜ  
e
ÜÜ! "
.
ÜÜ" #
PlantNo
ÜÜ# *
)
ÜÜ* +
.
ÜÜ+ ,
HasMaxLength
ÜÜ, 8
(
ÜÜ8 9
$num
ÜÜ9 ;
)
ÜÜ; <
;
ÜÜ< =
entity
áá 
.
áá 
Property
áá 
(
áá 
e
áá 
=>
áá  
e
áá! "
.
áá" #
	Telephone
áá# ,
)
áá, -
.
áá- .
HasMaxLength
áá. :
(
áá: ;
$num
áá; =
)
áá= >
;
áá> ?
}
àà 	
)
àà	 

;
àà
 
modelBuilder
ää 
.
ää 
Entity
ää 
<
ää 
Training
ää $
>
ää$ %
(
ää% &
entity
ää& ,
=>
ää- /
{
ãã 	
entity
åå 
.
åå 
HasKey
åå 
(
åå 
e
åå 
=>
åå 
new
åå "
{
åå# $
e
åå% &
.
åå& '
PersonId
åå' /
,
åå/ 0
e
åå1 2
.
åå2 3
TrainingAnimal
åå3 A
,
ååA B
e
ååC D
.
ååD E
TrainingDateTime
ååE U
}
ååV W
)
ååW X
.
ååX Y
HasName
ååY `
(
åå` a
$str
ååa q
)
ååq r
;
åår s
entity
éé 
.
éé 
ToTable
éé 
(
éé 
$str
éé &
)
éé& '
;
éé' (
entity
êê 
.
êê 
Property
êê 
(
êê 
e
êê 
=>
êê  
e
êê! "
.
êê" #
PersonId
êê# +
)
êê+ ,
.
êê, -
HasColumnName
êê- :
(
êê: ;
$str
êê; E
)
êêE F
;
êêF G
entity
ëë 
.
ëë 
Property
ëë 
(
ëë 
e
ëë 
=>
ëë  
e
ëë! "
.
ëë" #
TrainingAnimal
ëë# 1
)
ëë1 2
.
ëë2 3
HasMaxLength
ëë3 ?
(
ëë? @
$num
ëë@ B
)
ëëB C
;
ëëC D
entity
íí 
.
íí 
Property
íí 
(
íí 
e
íí 
=>
íí  
e
íí! "
.
íí" #
TrainingDateTime
íí# 3
)
íí3 4
.
íí4 5
HasColumnType
íí5 B
(
ííB C
$str
ííC M
)
ííM N
;
ííN O
entity
ìì 
.
ìì 
Property
ìì 
(
ìì 
e
ìì 
=>
ìì  
e
ìì! "
.
ìì" #
	TrainerId
ìì# ,
)
ìì, -
.
ìì- .
HasColumnName
ìì. ;
(
ìì; <
$str
ìì< G
)
ììG H
;
ììH I
entity
îî 
.
îî 
Property
îî 
(
îî 
e
îî 
=>
îî  
e
îî! "
.
îî" #
TrainingType
îî# /
)
îî/ 0
.
îî0 1
HasMaxLength
îî1 =
(
îî= >
$num
îî> @
)
îî@ A
;
îîA B
}
ïï 	
)
ïï	 

;
ïï
 
modelBuilder
óó 
.
óó 
Entity
óó 
<
óó 
	DataEntry
óó %
>
óó% &
(
óó& '
entity
óó' -
=>
óó. 0
{
òò 	
entity
ôô 
.
ôô 
HasKey
ôô 
(
ôô 
e
ôô 
=>
ôô 
e
ôô  
.
ôô  !

ActiveView
ôô! +
)
ôô+ ,
;
ôô, -
entity
õõ 
.
õõ 
ToTable
õõ 
(
õõ 
$str
õõ )
)
õõ) *
;
õõ* +
entity
ùù 
.
ùù 
Property
ùù 
(
ùù 
e
ùù 
=>
ùù  
e
ùù! "
.
ùù" #

ActiveView
ùù# -
)
ùù- .
.
ùù. /!
ValueGeneratedNever
ùù/ B
(
ùùB C
)
ùùC D
;
ùùD E
entity
ûû 
.
ûû 
Property
ûû 
(
ûû 
e
ûû 
=>
ûû  
e
ûû! "
.
ûû" #
ActiveViewName
ûû# 1
)
ûû1 2
.
ûû2 3
HasMaxLength
ûû3 ?
(
ûû? @
$num
ûû@ B
)
ûûB C
;
ûûC D
entity
üü 
.
üü 
Property
üü 
(
üü 
e
üü 
=>
üü  
e
üü! "
.
üü" #
CanWrite
üü# +
)
üü+ ,
.
†† 
HasMaxLength
†† 
(
†† 
$num
†† 
)
††  
.
°° 
IsFixedLength
°° 
(
°° 
)
°°  
;
°°  !
}
¢¢ 	
)
¢¢	 

;
¢¢
 
modelBuilder
§§ 
.
§§ 
Entity
§§ 
<
§§ 
News
§§  
>
§§  !
(
§§! "
entity
§§" (
=>
§§) +
{
•• 	
entity
¶¶ 
.
¶¶ 
HasKey
¶¶ 
(
¶¶ 
e
¶¶ 
=>
¶¶ 
e
¶¶  
.
¶¶  !
DatePublished
¶¶! .
)
¶¶. /
;
¶¶/ 0
entity
®® 
.
®® 
ToTable
®® 
(
®® 
$str
®® $
)
®®$ %
;
®®% &
entity
™™ 
.
™™ 
Property
™™ 
(
™™ 
e
™™ 
=>
™™  
e
™™! "
.
™™" #
DatePublished
™™# 0
)
™™0 1
.
´´ 
HasColumnType
´´ 
(
´´ 
$str
´´ .
)
´´. /
.
¨¨ 
HasColumnName
¨¨ 
(
¨¨ 
$str
¨¨ /
)
¨¨/ 0
;
¨¨0 1
entity
≠≠ 
.
≠≠ 
Property
≠≠ 
(
≠≠ 
e
≠≠ 
=>
≠≠  
e
≠≠! "
.
≠≠" #
Author
≠≠# )
)
≠≠) *
.
≠≠* +
HasMaxLength
≠≠+ 7
(
≠≠7 8
$num
≠≠8 :
)
≠≠: ;
;
≠≠; <
entity
ÆÆ 
.
ÆÆ 
Property
ÆÆ 
(
ÆÆ 
e
ÆÆ 
=>
ÆÆ  
e
ÆÆ! "
.
ÆÆ" #
NewsContent
ÆÆ# .
)
ÆÆ. /
.
ÆÆ/ 0
HasColumnName
ÆÆ0 =
(
ÆÆ= >
$str
ÆÆ> L
)
ÆÆL M
;
ÆÆM N
entity
ØØ 
.
ØØ 
Property
ØØ 
(
ØØ 
e
ØØ 
=>
ØØ  
e
ØØ! "
.
ØØ" #
Title
ØØ# (
)
ØØ( )
.
ØØ) *
HasMaxLength
ØØ* 6
(
ØØ6 7
$num
ØØ7 :
)
ØØ: ;
;
ØØ; <
entity
±± 
.
±± 
HasOne
±± 
(
±± 
d
±± 
=>
±± 
d
±±  
.
±±  !
AuthorNavigation
±±! 1
)
±±1 2
.
±±2 3
WithMany
±±3 ;
(
±±; <
p
±±< =
=>
±±> @
p
±±A B
.
±±B C
News
±±C G
)
±±G H
.
≤≤ 
HasForeignKey
≤≤ 
(
≤≤ 
d
≤≤  
=>
≤≤! #
d
≤≤$ %
.
≤≤% &
Author
≤≤& ,
)
≤≤, -
.
≥≥ 
HasConstraintName
≥≥ "
(
≥≥" #
$str
≥≥# 7
)
≥≥7 8
;
≥≥8 9
}
¥¥ 	
)
¥¥	 

;
¥¥
 
modelBuilder
∂∂ 
.
∂∂ 
Entity
∂∂ 
<
∂∂ 
TblSite
∂∂ #
>
∂∂# $
(
∂∂$ %
entity
∂∂% +
=>
∂∂, .
{
∑∑ 	
entity
∏∏ 
.
∏∏ 
HasKey
∏∏ 
(
∏∏ 
e
∏∏ 
=>
∏∏ 
e
∏∏  
.
∏∏  !
PlantNo
∏∏! (
)
∏∏( )
;
∏∏) *
entity
∫∫ 
.
∫∫ 
ToTable
∫∫ 
(
∫∫ 
$str
∫∫ %
)
∫∫% &
;
∫∫& '
entity
ºº 
.
ºº 
Property
ºº 
(
ºº 
e
ºº 
=>
ºº  
e
ºº! "
.
ºº" #
PlantNo
ºº# *
)
ºº* +
.
ΩΩ 
HasMaxLength
ΩΩ 
(
ΩΩ 
$num
ΩΩ  
)
ΩΩ  !
.
ææ 
HasColumnName
ææ 
(
ææ 
$str
ææ )
)
ææ) *
;
ææ* +
entity
øø 
.
øø 
Property
øø 
(
øø 
e
øø 
=>
øø  
e
øø! "
.
øø" #
AddressCounty
øø# 0
)
øø0 1
.
¿¿ 
HasMaxLength
¿¿ 
(
¿¿ 
$num
¿¿  
)
¿¿  !
.
¡¡ 
HasColumnName
¡¡ 
(
¡¡ 
$str
¡¡ /
)
¡¡/ 0
;
¡¡0 1
entity
¬¬ 
.
¬¬ 
Property
¬¬ 
(
¬¬ 
e
¬¬ 
=>
¬¬  
e
¬¬! "
.
¬¬" #
AddressLine1
¬¬# /
)
¬¬/ 0
.
√√ 
HasMaxLength
√√ 
(
√√ 
$num
√√  
)
√√  !
.
ƒƒ 
HasColumnName
ƒƒ 
(
ƒƒ 
$str
ƒƒ .
)
ƒƒ. /
;
ƒƒ/ 0
entity
≈≈ 
.
≈≈ 
Property
≈≈ 
(
≈≈ 
e
≈≈ 
=>
≈≈  
e
≈≈! "
.
≈≈" #
AddressLine2
≈≈# /
)
≈≈/ 0
.
∆∆ 
HasMaxLength
∆∆ 
(
∆∆ 
$num
∆∆  
)
∆∆  !
.
«« 
HasColumnName
«« 
(
«« 
$str
«« .
)
««. /
;
««/ 0
entity
»» 
.
»» 
Property
»» 
(
»» 
e
»» 
=>
»»  
e
»»! "
.
»»" #
AddressPostCode
»»# 2
)
»»2 3
.
…… 
HasMaxLength
…… 
(
…… 
$num
……  
)
……  !
.
   
HasColumnName
   
(
   
$str
   1
)
  1 2
;
  2 3
entity
ÀÀ 
.
ÀÀ 
Property
ÀÀ 
(
ÀÀ 
e
ÀÀ 
=>
ÀÀ  
e
ÀÀ! "
.
ÀÀ" #
AddressTown
ÀÀ# .
)
ÀÀ. /
.
ÃÃ 
HasMaxLength
ÃÃ 
(
ÃÃ 
$num
ÃÃ  
)
ÃÃ  !
.
ÕÕ 
HasColumnName
ÕÕ 
(
ÕÕ 
$str
ÕÕ -
)
ÕÕ- .
;
ÕÕ. /
entity
ŒŒ 
.
ŒŒ 
Property
ŒŒ 
(
ŒŒ 
e
ŒŒ 
=>
ŒŒ  
e
ŒŒ! "
.
ŒŒ" #
Fax
ŒŒ# &
)
ŒŒ& '
.
ŒŒ' (
HasMaxLength
ŒŒ( 4
(
ŒŒ4 5
$num
ŒŒ5 7
)
ŒŒ7 8
;
ŒŒ8 9
entity
œœ 
.
œœ 
Property
œœ 
(
œœ 
e
œœ 
=>
œœ  
e
œœ! "
.
œœ" #
Name
œœ# '
)
œœ' (
.
œœ( )
HasMaxLength
œœ) 5
(
œœ5 6
$num
œœ6 8
)
œœ8 9
;
œœ9 :
entity
–– 
.
–– 
Property
–– 
(
–– 
e
–– 
=>
––  
e
––! "
.
––" #
	Telephone
––# ,
)
––, -
.
––- .
HasMaxLength
––. :
(
––: ;
$num
––; =
)
––= >
;
––> ?
}
—— 	
)
——	 

;
——
 
modelBuilder
”” 
.
”” 
Entity
”” 
<
”” 
Trainees
”” $
>
””$ %
(
””% &
entity
””& ,
=>
””- /
{
‘‘ 	
entity
’’ 
.
’’ 
HasKey
’’ 
(
’’ 
e
’’ 
=>
’’ 
e
’’  
.
’’  !
	TraineeNo
’’! *
)
’’* +
;
’’+ ,
entity
◊◊ 
.
◊◊ 
ToTable
◊◊ 
(
◊◊ 
$str
◊◊ '
)
◊◊' (
;
◊◊( )
entity
ŸŸ 
.
ŸŸ 
Property
ŸŸ 
(
ŸŸ 
e
ŸŸ 
=>
ŸŸ  
e
ŸŸ! "
.
ŸŸ" #
	TraineeNo
ŸŸ# ,
)
ŸŸ, -
.
ŸŸ- .
HasColumnName
ŸŸ. ;
(
ŸŸ; <
$str
ŸŸ< H
)
ŸŸH I
;
ŸŸI J
entity
⁄⁄ 
.
⁄⁄ 
Property
⁄⁄ 
(
⁄⁄ 
e
⁄⁄ 
=>
⁄⁄  
e
⁄⁄! "
.
⁄⁄" #
PlantNo
⁄⁄# *
)
⁄⁄* +
.
€€ 
HasMaxLength
€€ 
(
€€ 
$num
€€  
)
€€  !
.
‹‹ 
HasColumnName
‹‹ 
(
‹‹ 
$str
‹‹ )
)
‹‹) *
;
‹‹* +
entity
›› 
.
›› 
Property
›› 
(
›› 
e
›› 
=>
››  
e
››! "
.
››" #
Trainee
››# *
)
››* +
.
››+ ,
HasMaxLength
››, 8
(
››8 9
$num
››9 <
)
››< =
;
››= >
entity
ﬂﬂ 
.
ﬂﬂ 
HasOne
ﬂﬂ 
(
ﬂﬂ 
d
ﬂﬂ 
=>
ﬂﬂ 
d
ﬂﬂ  
.
ﬂﬂ  !
PlantNoNavigation
ﬂﬂ! 2
)
ﬂﬂ2 3
.
ﬂﬂ3 4
WithMany
ﬂﬂ4 <
(
ﬂﬂ< =
p
ﬂﬂ= >
=>
ﬂﬂ? A
p
ﬂﬂB C
.
ﬂﬂC D
TblTrainees
ﬂﬂD O
)
ﬂﬂO P
.
‡‡ 
HasForeignKey
‡‡ 
(
‡‡ 
d
‡‡  
=>
‡‡! #
d
‡‡$ %
.
‡‡% &
PlantNo
‡‡& -
)
‡‡- .
.
·· 
OnDelete
·· 
(
·· 
DeleteBehavior
·· (
.
··( )
Cascade
··) 0
)
··0 1
.
‚‚ 
HasConstraintName
‚‚ "
(
‚‚" #
$str
‚‚# ;
)
‚‚; <
;
‚‚< =
}
„„ 	
)
„„	 

;
„„
 
modelBuilder
ÂÂ 
.
ÂÂ 
Entity
ÂÂ 
<
ÂÂ 
Trainers
ÂÂ $
>
ÂÂ$ %
(
ÂÂ% &
entity
ÂÂ& ,
=>
ÂÂ- /
{
ÊÊ 	
entity
ÁÁ 
.
ÁÁ 
HasKey
ÁÁ 
(
ÁÁ 
e
ÁÁ 
=>
ÁÁ 
e
ÁÁ  
.
ÁÁ  !
	TrainerId
ÁÁ! *
)
ÁÁ* +
;
ÁÁ+ ,
entity
ÈÈ 
.
ÈÈ 
ToTable
ÈÈ 
(
ÈÈ 
$str
ÈÈ (
)
ÈÈ( )
;
ÈÈ) *
entity
ÎÎ 
.
ÎÎ 
Property
ÎÎ 
(
ÎÎ 
e
ÎÎ 
=>
ÎÎ  
e
ÎÎ! "
.
ÎÎ" #
	TrainerId
ÎÎ# ,
)
ÎÎ, -
.
ÎÎ- .
HasColumnName
ÎÎ. ;
(
ÎÎ; <
$str
ÎÎ< H
)
ÎÎH I
;
ÎÎI J
entity
ÏÏ 
.
ÏÏ 
Property
ÏÏ 
(
ÏÏ 
e
ÏÏ 
=>
ÏÏ  
e
ÏÏ! "
.
ÏÏ" #
LocId
ÏÏ# (
)
ÏÏ( )
.
ÌÌ 
HasMaxLength
ÌÌ 
(
ÌÌ 
$num
ÌÌ  
)
ÌÌ  !
.
ÓÓ 
HasColumnName
ÓÓ 
(
ÓÓ 
$str
ÓÓ '
)
ÓÓ' (
;
ÓÓ( )
entity
ÔÔ 
.
ÔÔ 
Property
ÔÔ 
(
ÔÔ 
e
ÔÔ 
=>
ÔÔ  
e
ÔÔ! "
.
ÔÔ" #
PersonId
ÔÔ# +
)
ÔÔ+ ,
.
ÔÔ, -
HasColumnName
ÔÔ- :
(
ÔÔ: ;
$str
ÔÔ; F
)
ÔÔF G
;
ÔÔG H
entity
 
.
 
Property
 
(
 
e
 
=>
  
e
! "
.
" #
Trainer
# *
)
* +
.
+ ,
HasMaxLength
, 8
(
8 9
$num
9 <
)
< =
;
= >
entity
ÚÚ 
.
ÚÚ 
HasOne
ÚÚ 
(
ÚÚ 
d
ÚÚ 
=>
ÚÚ 
d
ÚÚ  
.
ÚÚ  !
Loc
ÚÚ! $
)
ÚÚ$ %
.
ÚÚ% &
WithMany
ÚÚ& .
(
ÚÚ. /
p
ÚÚ/ 0
=>
ÚÚ1 3
p
ÚÚ4 5
.
ÚÚ5 6
TblTrainers
ÚÚ6 A
)
ÚÚA B
.
ÛÛ 
HasForeignKey
ÛÛ 
(
ÛÛ 
d
ÛÛ  
=>
ÛÛ! #
d
ÛÛ$ %
.
ÛÛ% &
LocId
ÛÛ& +
)
ÛÛ+ ,
.
ÙÙ 
OnDelete
ÙÙ 
(
ÙÙ 
DeleteBehavior
ÙÙ (
.
ÙÙ( )
Cascade
ÙÙ) 0
)
ÙÙ0 1
.
ıı 
HasConstraintName
ıı "
(
ıı" #
$str
ıı# =
)
ıı= >
;
ıı> ?
}
ˆˆ 	
)
ˆˆ	 

;
ˆˆ
 
modelBuilder
¯¯ 
.
¯¯ 
Entity
¯¯ 
<
¯¯ 
	Trainings
¯¯ %
>
¯¯% &
(
¯¯& '
entity
¯¯' -
=>
¯¯. 0
{
˘˘ 	
entity
˙˙ 
.
˙˙ 
HasKey
˙˙ 
(
˙˙ 
e
˙˙ 
=>
˙˙ 
new
˙˙ "
{
˙˙# $
e
˙˙% &
.
˙˙& '
	TraineeNo
˙˙' 0
,
˙˙0 1
e
˙˙2 3
.
˙˙3 4
DateTrained
˙˙4 ?
,
˙˙? @
e
˙˙A B
.
˙˙B C
SpeciesTrained
˙˙C Q
}
˙˙R S
)
˙˙S T
.
˙˙T U
HasName
˙˙U \
(
˙˙\ ]
$str
˙˙] o
)
˙˙o p
;
˙˙p q
entity
¸¸ 
.
¸¸ 
ToTable
¸¸ 
(
¸¸ 
$str
¸¸ (
)
¸¸( )
;
¸¸) *
entity
˛˛ 
.
˛˛ 
Property
˛˛ 
(
˛˛ 
e
˛˛ 
=>
˛˛  
e
˛˛! "
.
˛˛" #
	TraineeNo
˛˛# ,
)
˛˛, -
.
˛˛- .
HasColumnName
˛˛. ;
(
˛˛; <
$str
˛˛< H
)
˛˛H I
;
˛˛I J
entity
ˇˇ 
.
ˇˇ 
Property
ˇˇ 
(
ˇˇ 
e
ˇˇ 
=>
ˇˇ  
e
ˇˇ! "
.
ˇˇ" #
DateTrained
ˇˇ# .
)
ˇˇ. /
.
ÄÄ 
HasMaxLength
ÄÄ 
(
ÄÄ 
$num
ÄÄ !
)
ÄÄ! "
.
ÅÅ 
HasColumnName
ÅÅ 
(
ÅÅ 
$str
ÅÅ -
)
ÅÅ- .
;
ÅÅ. /
entity
ÇÇ 
.
ÇÇ 
Property
ÇÇ 
(
ÇÇ 
e
ÇÇ 
=>
ÇÇ  
e
ÇÇ! "
.
ÇÇ" #
SpeciesTrained
ÇÇ# 1
)
ÇÇ1 2
.
ÉÉ 
HasMaxLength
ÉÉ 
(
ÉÉ 
$num
ÉÉ  
)
ÉÉ  !
.
ÑÑ 
HasColumnName
ÑÑ 
(
ÑÑ 
$str
ÑÑ 0
)
ÑÑ0 1
;
ÑÑ1 2
entity
ÖÖ 
.
ÖÖ 
Property
ÖÖ 
(
ÖÖ 
e
ÖÖ 
=>
ÖÖ  
e
ÖÖ! "
.
ÖÖ" #
	TrainerId
ÖÖ# ,
)
ÖÖ, -
.
ÖÖ- .
HasColumnName
ÖÖ. ;
(
ÖÖ; <
$str
ÖÖ< H
)
ÖÖH I
;
ÖÖI J
entity
áá 
.
áá 
HasOne
áá 
(
áá 
d
áá 
=>
áá 
d
áá  
.
áá  !!
TraineeNoNavigation
áá! 4
)
áá4 5
.
áá5 6
WithMany
áá6 >
(
áá> ?
p
áá? @
=>
ááA C
p
ááD E
.
ááE F
TblTrainings
ááF R
)
ááR S
.
àà 
HasForeignKey
àà 
(
àà 
d
àà  
=>
àà! #
d
àà$ %
.
àà% &
	TraineeNo
àà& /
)
àà/ 0
.
ââ 
HasConstraintName
ââ "
(
ââ" #
$str
ââ# >
)
ââ> ?
;
ââ? @
entity
ãã 
.
ãã 
HasOne
ãã 
(
ãã 
d
ãã 
=>
ãã 
d
ãã  
.
ãã  !
Trainer
ãã! (
)
ãã( )
.
ãã) *
WithMany
ãã* 2
(
ãã2 3
p
ãã3 4
=>
ãã5 7
p
ãã8 9
.
ãã9 :
TblTrainings
ãã: F
)
ããF G
.
åå 
HasForeignKey
åå 
(
åå 
d
åå  
=>
åå! #
d
åå$ %
.
åå% &
	TrainerId
åå& /
)
åå/ 0
.
çç 
HasConstraintName
çç "
(
çç" #
$str
çç# ?
)
çç? @
;
çç@ A
}
éé 	
)
éé	 

;
éé
 
modelBuilder
êê 
.
êê 
Entity
êê 
<
êê 
User
êê  
>
êê  !
(
êê! "
entity
êê" (
=>
êê) +
{
ëë 	
entity
íí 
.
íí 
HasKey
íí 
(
íí 
e
íí 
=>
íí 
e
íí  
.
íí  !
UserId
íí! '
)
íí' (
;
íí( )
entity
îî 
.
îî 
ToTable
îî 
(
îî 
$str
îî $
)
îî$ %
;
îî% &
entity
ññ 
.
ññ 
Property
ññ 
(
ññ 
e
ññ 
=>
ññ  
e
ññ! "
.
ññ" #
UserId
ññ# )
)
ññ) *
.
óó 
HasMaxLength
óó 
(
óó 
$num
óó  
)
óó  !
.
òò 
HasColumnName
òò 
(
òò 
$str
òò '
)
òò' (
;
òò( )
entity
ôô 
.
ôô 
Property
ôô 
(
ôô 
e
ôô 
=>
ôô  
e
ôô! "
.
ôô" #
UserLoc
ôô# *
)
ôô* +
.
öö 
HasMaxLength
öö 
(
öö 
$num
öö  
)
öö  !
.
õõ 
HasColumnName
õõ 
(
õõ 
$str
õõ )
)
õõ) *
;
õõ* +
entity
úú 
.
úú 
Property
úú 
(
úú 
e
úú 
=>
úú  
e
úú! "
.
úú" #
UserName
úú# +
)
úú+ ,
.
úú, -
HasMaxLength
úú- 9
(
úú9 :
$num
úú: =
)
úú= >
;
úú> ?
}
ùù 	
)
ùù	 

;
ùù
 
modelBuilder
üü 
.
üü 
Entity
üü 
<
üü 
VlaLoc
üü "
>
üü" #
(
üü# $
entity
üü$ *
=>
üü+ -
{
†† 	
entity
°° 
.
°° 
HasKey
°° 
(
°° 
e
°° 
=>
°° 
e
°°  
.
°°  !
LocId
°°! &
)
°°& '
;
°°' (
entity
££ 
.
££ 
ToTable
££ 
(
££ 
$str
££ &
)
££& '
;
££' (
entity
•• 
.
•• 
Property
•• 
(
•• 
e
•• 
=>
••  
e
••! "
.
••" #
LocId
••# (
)
••( )
.
¶¶ 
HasMaxLength
¶¶ 
(
¶¶ 
$num
¶¶  
)
¶¶  !
.
ßß 
HasColumnName
ßß 
(
ßß 
$str
ßß '
)
ßß' (
;
ßß( )
entity
®® 
.
®® 
Property
®® 
(
®® 
e
®® 
=>
®®  
e
®®! "
.
®®" #
Ahvla
®®# (
)
®®( )
.
©© 
HasMaxLength
©© 
(
©© 
$num
©©  
)
©©  !
.
™™ 
IsFixedLength
™™ 
(
™™ 
)
™™  
.
´´ 
HasColumnName
´´ 
(
´´ 
$str
´´ &
)
´´& '
;
´´' (
entity
¨¨ 
.
¨¨ 
Property
¨¨ 
(
¨¨ 
e
¨¨ 
=>
¨¨  
e
¨¨! "
.
¨¨" #
VlaLocation
¨¨# .
)
¨¨. /
.
≠≠ 
HasMaxLength
≠≠ 
(
≠≠ 
$num
≠≠  
)
≠≠  !
.
ÆÆ 
HasColumnName
ÆÆ 
(
ÆÆ 
$str
ÆÆ -
)
ÆÆ- .
;
ÆÆ. /
}
ØØ 	
)
ØØ	 

;
ØØ
 
modelBuilder
±± 
.
±± 
Entity
±± 
<
±± 
SiteTrainee
±± '
>
±±' (
(
±±( )
)
±±) *
.
±±* +
HasNoKey
±±+ 3
(
±±3 4
)
±±4 5
;
±±5 6
modelBuilder
≤≤ 
.
≥≥ 
Entity
≥≥ 
<
≥≥ 
TraineeTrainer
≥≥ "
>
≥≥" #
(
≥≥# $
)
≥≥$ %
.
¥¥ 
HasNoKey
¥¥ 
(
¥¥ 
)
¥¥ 
.
µµ 
ToView
µµ 
(
µµ 
null
µµ 
)
µµ 
;
µµ 
modelBuilder
∑∑ 
.
∑∑ 
Entity
∑∑ 
<
∑∑ 
TrainerTraining
∑∑ +
>
∑∑+ ,
(
∑∑, -
)
∑∑- .
.
∑∑. /
HasNoKey
∑∑/ 7
(
∑∑7 8
)
∑∑8 9
;
∑∑9 :
modelBuilder
∏∏ 
.
∏∏ 
Entity
∏∏ 
<
∏∏ 
TrainerHistory
∏∏ *
>
∏∏* +
(
∏∏+ ,
)
∏∏, -
.
∏∏- .
HasNoKey
∏∏. 6
(
∏∏6 7
)
∏∏7 8
;
∏∏8 9
modelBuilder
ππ 
.
ππ 
Entity
ππ 
<
ππ 
TrainerTrained
ππ *
>
ππ* +
(
ππ+ ,
)
ππ, -
.
ππ- .
HasNoKey
ππ. 6
(
ππ6 7
)
ππ7 8
;
ππ8 9
modelBuilder
∫∫ 
.
∫∫ 
Entity
∫∫ 
<
∫∫ 
PersonDetail
∫∫ (
>
∫∫( )
(
∫∫) *
)
∫∫* +
.
∫∫+ ,
HasNoKey
∫∫, 4
(
∫∫4 5
)
∫∫5 6
;
∫∫6 7
modelBuilder
ªª 
.
ªª 
Entity
ªª 
<
ªª 

VlaLocView
ªª &
>
ªª& '
(
ªª' (
)
ªª( )
.
ªª) *
HasNoKey
ªª* 2
(
ªª2 3
)
ªª3 4
.
ªª4 5
ToView
ªª5 ;
(
ªª; <
$str
ªª< L
)
ªªL M
;
ªªM N
modelBuilder
ºº 
.
ºº 
Entity
ºº 
<
ºº 
UserView
ºº $
>
ºº$ %
(
ºº% &
)
ºº& '
.
ºº' (
HasNoKey
ºº( 0
(
ºº0 1
)
ºº1 2
.
ºº2 3
ToView
ºº3 9
(
ºº9 :
$str
ºº: C
)
ººC D
;
ººD E
modelBuilder
ΩΩ 
.
ΩΩ 
Entity
ΩΩ 
<
ΩΩ 

SiteReport
ΩΩ &
>
ΩΩ& '
(
ΩΩ' (
)
ΩΩ( )
.
ΩΩ) *
HasNoKey
ΩΩ* 2
(
ΩΩ2 3
)
ΩΩ3 4
;
ΩΩ4 5
modelBuilder
ææ 
.
ææ 
Entity
ææ 
<
ææ 
TrainerReport
ææ )
>
ææ) *
(
ææ* +
)
ææ+ ,
.
ææ, -
HasNoKey
ææ- 5
(
ææ5 6
)
ææ6 7
;
ææ7 8
modelBuilder
øø 
.
øø 
Entity
øø 
<
øø 
PeopleReport
øø (
>
øø( )
(
øø) *
)
øø* +
.
øø+ ,
HasNoKey
øø, 4
(
øø4 5
)
øø5 6
;
øø6 7
modelBuilder
¿¿ 
.
¿¿ 
Entity
¿¿ 
<
¿¿ 
TrainingReport
¿¿ *
>
¿¿* +
(
¿¿+ ,
)
¿¿, -
.
¿¿- .
HasNoKey
¿¿. 6
(
¿¿6 7
)
¿¿7 8
;
¿¿8 9
modelBuilder
¡¡ 
.
¡¡ 
Entity
¡¡ 
<
¡¡ 

AphaReport
¡¡ &
>
¡¡& '
(
¡¡' (
)
¡¡( )
.
¡¡) *
HasNoKey
¡¡* 2
(
¡¡2 3
)
¡¡3 4
;
¡¡4 5
modelBuilder
¬¬ 
.
¬¬ 
Entity
¬¬ 
<
¬¬ !
StoredProcedureList
¬¬ /
>
¬¬/ 0
(
¬¬0 1
)
¬¬1 2
.
¬¬2 3
HasNoKey
¬¬3 ;
(
¬¬; <
)
¬¬< =
;
¬¬= >
}
√√ 
}≈≈ ∫
KD:\a\apha-bst\apha-bst\src\Apha.BST\Apha.BST.DataAccess\Data\AuditLogMap.cs
	namespace

 	
Apha


 
.

 
BST

 
.

 

DataAccess

 
.

 
Data

 "
{ 
public 

class 
AuditLogMap 
: $
IEntityTypeConfiguration 7
<7 8
AuditLog8 @
>@ A
{ 
public 
void 
	Configure 
( 
EntityTypeBuilder /
</ 0
AuditLog0 8
>8 9
entity: @
)@ A
{ 	
entity 
. 
HasNoKey 
( 
) 
. 
ToTable 
( 
$str "
)" #
;# $
entity 
. 
Property 
( 
e 
=>  
e! "
." #
Date# '
)' (
.( )
HasColumnType) 6
(6 7
$str7 A
)A B
;B C
entity 
. 
Property 
( 
e 
=>  
e! "
." #

Parameters# -
)- .
.. /
HasColumnType/ <
(< =
$str= C
)C D
;D E
entity 
. 
Property 
( 
e 
=>  
e! "
." #
	Procedure# ,
), -
. 
HasMaxLength 
( 
$num !
)! "
. 
	IsUnicode 
( 
false  
)  !
;! "
entity 
. 
Property 
( 
e 
=>  
e! "
." #
TransactionType# 2
)2 3
. 
HasMaxLength 
( 
$num  
)  !
. 
	IsUnicode 
( 
false  
)  !
;! "
entity 
. 
Property 
( 
e 
=>  
e! "
." #
User# '
)' (
. 
HasMaxLength 
( 
$num  
)  !
. 
	IsUnicode 
( 
false  
)  !
;! "
} 	
}!! 
}"" ⁄
SD:\a\apha-bst\apha-bst\src\Apha.BST\Apha.BST.DataAccess\Data\AuditlogArchivedMap.cs
	namespace

 	
Apha


 
.

 
BST

 
.

 

DataAccess

 
.

 
Data

 "
{ 
public 

class 
AuditlogArchivedMap $
:% &$
IEntityTypeConfiguration' ?
<? @
AuditlogArchived@ P
>P Q
{ 
public 
void 
	Configure 
( 
EntityTypeBuilder /
</ 0
AuditlogArchived0 @
>@ A
entityB H
)H I
{ 	
entity 
. 
HasNoKey 
( 
) 
. 
ToTable 
( 
$str +
)+ ,
;, -
entity 
. 
Property 
( 
e 
=>  
e! "
." #
Date# '
)' (
.( )
HasColumnType) 6
(6 7
$str7 A
)A B
;B C
entity 
. 
Property 
( 
e 
=>  
e! "
." #

Parameters# -
)- .
.. /
HasColumnType/ <
(< =
$str= C
)C D
;D E
entity 
. 
Property 
( 
e 
=>  
e! "
." #
	Procedure# ,
), -
. 
HasMaxLength 
( 
$num !
)! "
. 
	IsUnicode 
( 
false  
)  !
;! "
entity 
. 
Property 
( 
e 
=>  
e! "
." #
TransactionType# 2
)2 3
. 
HasMaxLength 
( 
$num  
)  !
. 
	IsUnicode 
( 
false  
)  !
;! "
entity 
. 
Property 
( 
e 
=>  
e! "
." #
User# '
)' (
. 
HasMaxLength 
( 
$num  
)  !
. 
	IsUnicode 
( 
false  
)  !
;! "
}   	
}!! 
}"" 