@model Apha.BST.Web.Models.SiteViewModel
@{
	ViewData["Title"] = "AddSite";
}

@{
	var isDisabled = !Model.CanEdit ? "disabled" : null;
}

<form asp-action="AddSite" asp-controller="Site" method="post">
	<table class="w-100 h-100 m-3">
		<thead class="sr-only"><tr><th scope="col"></th></tr></thead>
		<tbody class="me-5">
			<tr>
				<td style="width: 40%;" class="fw-bold text-decoration-underline">
					Add a new site with details
				</td>
				<td></td>
				<td></td>
			</tr>

			<tr>
				<td>
					<label class="pt-2" for='PlantNo'>Plant / site No.</label>
				</td>
				<td>
					<input asp-for="PlantNo" disabled="@isDisabled">
					<span asp-validation-for="PlantNo" class="text-danger">*</span>
				</td>
				<td class="px-5"></td>
			</tr>
			<tr>
				<td class="pt-2 ">
					<label for="Name">Plant name</label>
				</td>
				<td class="pt-2">
					<input asp-for="Name" disabled="@isDisabled" />
					<span asp-validation-for="Name" class="text-danger">**</span>
				</td>
				<td class="px-5"></td>
			</tr>
			<tr>
				<td class="pt-2">
					<label for="AddressLine1">Address 1</label>
				</td>
				<td class="pt-2">
					<input asp-for="AddressLine1" disabled="@isDisabled" />
				</td>
				<td class="px-5"></td>
			</tr>
			<tr>
				<td class="pt-2">
					<label for="AddressLine2">Address 2</label>
				</td>
				<td class="pt-2">
					<input asp-for="AddressLine2" disabled="@isDisabled" />
				</td>
				<td class="px-5"></td>
			</tr>
			<tr>
				<td class="pt-2">
					<label for="AddressTown">Town</label>
				</td>
				<td class="pt-2">
					<input asp-for="AddressTown" disabled="@isDisabled" />
				</td>
				<td class="px-5"></td>
			</tr>
			<tr>
				<td class="pt-2">
					<label for="AddressCounty">County</label>
				</td>
				<td class="pt-2">
					<input asp-for="AddressCounty" disabled="@isDisabled" />
				</td>
				<td class="px-5"></td>
			</tr>
			<tr>
				<td class="pt-2">
					<label for="AddressPostCode">Postcode</label>
				</td>
				<td class="pt-2">
					<input asp-for="AddressPostCode" disabled="@isDisabled" />
				</td>
				<td class="px-5"></td>
			</tr>
			<tr>
				<td class="pt-2">
					<label for="Telephone">Telephone</label>
				</td>
				<td class="pt-2">
					<input asp-for="Telephone" disabled="@isDisabled" />
				</td>
				<td class="px-5"></td>
			</tr>
			<tr>
				<td class="pt-2">
					<label for="Fax">Fax</label>
				</td>
				<td class="pt-2">
					<input asp-for="Fax" disabled="@isDisabled" />
				</td>
				<td class="px-5"></td>
			</tr>
			<tr>
				<td class="pt-2">
					<label for="Ahvla">AHVLA Site</label>
				</td>
				<td class="pt-2">
					<input asp-for="Ahvla" type="checkbox" /> AHVLA Site
				</td>
				<td class="px-5"></td>
			</tr>
			<tr>
				<td></td>
				<td>
					<div class="button-container" style="display: flex; gap: 4rem;">
						<button type="submit" class="btn">
							<img src="~/Images/tick.gif" alt="Save site" />
						</button>
						<a href="@Url.Action("Index", "Home")" class="btn">
							<img src="~/Images/cancel.jpeg" alt="Cancel action" />
						</a>
					</div>
				</td>
				<td></td>
			</tr>
			<tr>
				<td></td>
				<td>
					<div class="pt-3 px-5 ErrorText">
						@if (TempData["SiteMessage"] != null)
						{
							@TempData["SiteMessage"]
						}
					</div>
				</td>
				<td></td>
			</tr>
			<tr>
				<td class="pt-5">
					<p>Plant / Site No. and Plant name are required fields</p>
					<div asp-Validation-Summary="ModelOnly">
					</div>


					<ul class="ErrorText">
						@foreach (var key in new[] { "PlantNo", "Name" })
						{
							@if (ViewData.ModelState.TryGetValue(key, out var entry) && entry.Errors.Count > 0)
							{
								foreach (var error in entry.Errors)
								{
									<li>@error.ErrorMessage</li>
								}
							}

						}
					</ul>
				</td>
				<td></td>
				<td></td>
			</tr>
		</tbody>
	</table>
</form>
@section Scripts {
	@{
		await Html.RenderPartialAsync("_ValidationScriptsPartial");
	}
}


