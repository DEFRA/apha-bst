@model Apha.BST.Web.Models.SiteViewModel
@{
	ViewData["Title"] = "AddSite";
}

@{
	var isDisabled = !Model.CanEdit ? "disabled" : null;
}

<form asp-action="AddSite" asp-controller="Site" method="post">
	<table class="w-100 h-100 m-3">
		<thead class="sr-only"><tr><th scope="col"></th></tr></thead>
		<tbody class="me-5">
			<tr>
				<td style="width: 40%;" class="fw-bold text-decoration-underline">
					Add a new site with details
				</td>
				<td></td>
				<td></td>
			</tr>

			<tr>
				<td>
					<label class="pt-2" for='PlantNo'>Plant / site No.</label>
				</td>
				<td>
					<input asp-for="PlantNo" class="w-25" disabled="@isDisabled">
					<span asp-validation-for="PlantNo" class="text-danger">*</span>
				</td>
				<td class="px-5"></td>
			</tr>
			<tr>
				<td class="pt-2">
					<label for="Name">Plant name</label>
				</td>
				<td class="pt-2">
					<input asp-for="Name" class="w-50" disabled="@isDisabled" />
					<span asp-validation-for="Name" class="text-danger">**</span>
				</td>
				<td class="px-5"></td>
			</tr>
			<tr>
				<td class="pt-2">
					<label for="AddressLine1">Address 1</label>
				</td>
				<td class="pt-2">
					<input asp-for="AddressLine1" class="w-50"disabled="@isDisabled" />
				</td>
				<td class="px-5"></td>
			</tr>
			<tr>
				<td class="pt-2">
					<label for="AddressLine2">Address 2</label>
				</td>
				<td class="pt-2">
					<input asp-for="AddressLine2" class="w-50" disabled="@isDisabled" />
				</td>
				<td class="px-5"></td>
			</tr>
			<tr>
				<td class="pt-2">
					<label for="AddressTown">Town</label>
				</td>
				<td class="pt-2">
					<input asp-for="AddressTown" class="w-50" disabled="@isDisabled" />
				</td>
				<td class="px-5"></td>
			</tr>
			<tr>
				<td class="pt-2">
					<label for="AddressCounty">County</label>
				</td>
				<td class="pt-2">
					<input asp-for="AddressCounty" class="w-50" disabled="@isDisabled" />
				</td>
				<td class="px-5"></td>
			</tr>
			<tr>
				<td class="pt-2">
					<label for="AddressPostCode">Postcode</label>
				</td>
				<td class="pt-2">
					<input asp-for="AddressPostCode" class="w-25" disabled="@isDisabled" />
				</td>
				<td class="px-5"></td>
			</tr>
			<tr>
				<td class="pt-2">
					<label for="Telephone">Telephone</label>
				</td>
				<td class="pt-2">
					<input asp-for="Telephone" class="w-25" disabled="@isDisabled" />
				</td>
				<td class="px-5"></td>
			</tr>
			<tr>
				<td class="pt-2">
					<label for="Fax">Fax</label>
				</td>
				<td class="pt-2">
					<input asp-for="Fax" class="w-25" disabled="@isDisabled" />
				</td>
				<td class="px-5"></td>
			</tr>
			<tr>
				<td class="pt-3">
					<label for="Ahvla">AHVLA Site</label>
				</td>
				<td class="pt-3">
					<input asp-for="Ahvla" type="checkbox" /> AHVLA Site
				</td>
				<td class="px-5"></td>
			</tr>
			<tr>
				<td class="w-25 "></td>
				<td class="w-50">
					<table class="w-100">
						<thead class="sr-only"><tr><th scope="col"></th></tr></thead>
						<tr>
							<td class="w-20">
								<button type="submit" class="btn p-0" title="Save site">
									<img src="~/Images/tick.gif" alt="Save site" />
								</button>
							</td>
							<td>
								<a href="@Url.Action("Index", "Home")" class="btn" title="Cancel action">
									<img src="~/Images/cancel.jpeg" alt="Cancel action" />
								</a>
							</td>
							<td>
								
							</td>
						</tr>
						<tr>
							<td colspan="3">
								<div class="pt-3 ErrorText">
									@if (TempData["SiteMessage"] != null)
									{
										@TempData["SiteMessage"]
									}
								</div>
							</td>
							
						</tr>
					</table>
				</td>
			
			</tr>
			<tr>
				<td class="pt-5">
					<p>Plant / Site No. and Plant name are required fields</p>
					<div asp-Validation-Summary="ModelOnly">
					</div>


					<ul class="ErrorText">
						@foreach (var key in new[] { "PlantNo", "Name" })
						{
							@if (ViewData.ModelState.TryGetValue(key, out var entry) && entry.Errors.Count > 0)
							{
								foreach (var error in entry.Errors)
								{
									<li>@error.ErrorMessage</li>
								}
							}

						}
					</ul>
				</td>
				<td></td>
				<td></td>
			</tr>
		</tbody>
	</table>
</form>



